2025-11-21 11:29:34,525 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /
2025-11-21 11:29:34,595 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /static/homestyle.css
2025-11-21 11:29:34,674 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /static/AuthManager.js
2025-11-21 11:29:34,675 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /static/liuying.png
2025-11-21 11:29:34,783 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /favicon.ico
2025-11-21 11:29:36,308 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai
2025-11-21 11:29:36,308 | INFO | ğŸ“‹ User None accessing /user from IP: 127.0.0.1
2025-11-21 11:29:36,308 | WARNING | ğŸš« Unauthorized access to /user from IP: 127.0.0.1
2025-11-21 11:29:36,314 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /login
2025-11-21 11:29:38,893 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /login
2025-11-21 11:29:38,975 | INFO | SELECT DATABASE()
2025-11-21 11:29:38,976 | INFO | [raw sql] ()
2025-11-21 11:29:38,979 | INFO | SELECT @@sql_mode
2025-11-21 11:29:38,980 | INFO | [raw sql] ()
2025-11-21 11:29:38,980 | INFO | SELECT @@lower_case_table_names
2025-11-21 11:29:38,981 | INFO | [raw sql] ()
2025-11-21 11:29:38,982 | INFO | BEGIN (implicit)
2025-11-21 11:29:38,989 | INFO | SELECT users.id, users.account, users.password 
FROM users 
WHERE users.account = %s
2025-11-21 11:29:38,989 | INFO | [generated in 0.00061s] ('123',)
2025-11-21 11:29:39,006 | INFO | ROLLBACK
2025-11-21 11:29:39,032 | INFO | ğŸ” User 2 logged in successfully
2025-11-21 11:29:39,058 | INFO | BEGIN (implicit)
2025-11-21 11:29:39,059 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 11:29:39,060 | INFO | [generated in 0.00039s] (2,)
2025-11-21 11:29:39,063 | INFO | ROLLBACK
2025-11-21 11:30:44,801 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /login
2025-11-21 11:30:44,827 | INFO | SELECT DATABASE()
2025-11-21 11:30:44,827 | INFO | [raw sql] ()
2025-11-21 11:30:44,828 | INFO | SELECT @@sql_mode
2025-11-21 11:30:44,829 | INFO | [raw sql] ()
2025-11-21 11:30:44,829 | INFO | SELECT @@lower_case_table_names
2025-11-21 11:30:44,829 | INFO | [raw sql] ()
2025-11-21 11:30:44,830 | INFO | BEGIN (implicit)
2025-11-21 11:30:44,835 | INFO | SELECT users.id, users.account, users.password 
FROM users 
WHERE users.account = %s
2025-11-21 11:30:44,836 | INFO | [generated in 0.00040s] ('123',)
2025-11-21 11:30:44,838 | INFO | ROLLBACK
2025-11-21 11:30:44,862 | INFO | ğŸ” User 2 logged in successfully
2025-11-21 11:30:44,879 | INFO | BEGIN (implicit)
2025-11-21 11:30:44,881 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 11:30:44,882 | INFO | [generated in 0.00057s] (2,)
2025-11-21 11:30:44,884 | INFO | ROLLBACK
2025-11-21 11:30:44,885 | INFO | ğŸ” User 2 has not completed informations
2025-11-21 11:30:46,120 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /write_info
2025-11-21 11:30:46,145 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /static/change_info.css
2025-11-21 11:30:53,206 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /user/commit
2025-11-21 11:30:53,208 | INFO | name='å¤é›²ç¥¥' college='è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢' major='è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯' class_name='è®¡ç§‘2201ç­' grade='2021' gender='ç”·' phone='18870689658' email='136369482@qq.com' qq='' dormitory='' political_status='ç¾¤ä¼—'
2025-11-21 11:30:53,209 | INFO | BEGIN (implicit)
2025-11-21 11:30:53,210 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 11:30:53,210 | INFO | [cached since 8.329s ago] (2,)
2025-11-21 11:30:53,211 | INFO | ROLLBACK
2025-11-21 11:30:53,212 | ERROR | ä¿å­˜ç”¨æˆ·ä¿¡æ¯å¤±è´¥ (user_id=2): backend.models.user.User_Info() argument after ** must be a mapping, not User_Info
Traceback (most recent call last):
  File "f:\Programmer\python\MyAi\backend\routes\user.py", line 26, in commit_user_info
    user_info = await create_or_update_user_info(user_id=current_user_id, user_info_data=data)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "f:\Programmer\python\MyAi\backend\crud\user.py", line 57, in create_or_update_user_info
    new_info = User_Info(**user_info_data, user_id=user_id)
TypeError: backend.models.user.User_Info() argument after ** must be a mapping, not User_Info
2025-11-21 11:37:52,041 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /login
2025-11-21 11:37:52,065 | INFO | SELECT DATABASE()
2025-11-21 11:37:52,066 | INFO | [raw sql] ()
2025-11-21 11:37:52,067 | INFO | SELECT @@sql_mode
2025-11-21 11:37:52,067 | INFO | [raw sql] ()
2025-11-21 11:37:52,068 | INFO | SELECT @@lower_case_table_names
2025-11-21 11:37:52,068 | INFO | [raw sql] ()
2025-11-21 11:37:52,069 | INFO | BEGIN (implicit)
2025-11-21 11:37:52,074 | INFO | SELECT users.id, users.account, users.password 
FROM users 
WHERE users.account = %s
2025-11-21 11:37:52,074 | INFO | [generated in 0.00041s] ('123',)
2025-11-21 11:37:52,076 | INFO | ROLLBACK
2025-11-21 11:37:52,100 | INFO | ğŸ” User 2 logged in successfully
2025-11-21 11:37:52,117 | INFO | BEGIN (implicit)
2025-11-21 11:37:52,119 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 11:37:52,119 | INFO | [generated in 0.00046s] (2,)
2025-11-21 11:37:52,121 | INFO | ROLLBACK
2025-11-21 11:37:52,122 | INFO | ğŸ” User 2 has not completed informations
2025-11-21 11:37:53,194 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /write_info
2025-11-21 11:37:58,276 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /user/commit
2025-11-21 11:37:58,277 | INFO | name='å¤é›²ç¥¥' college='è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢' major='è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯' class_name='è®¡ç§‘2201ç­' grade='2021' gender='ç”·' phone='18870689658' email='136369482@qq.com' qq='' dormitory='' political_status='ç¾¤ä¼—'
2025-11-21 11:37:58,280 | INFO | BEGIN (implicit)
2025-11-21 11:37:58,280 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 11:37:58,281 | INFO | [cached since 6.162s ago] (2,)
2025-11-21 11:37:58,284 | INFO | INSERT INTO user_info (name, college, major, class_name, grade, gender, birth_date, enrollment_date, phone, email, qq, dormitory, political_status, user_id) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-11-21 11:37:58,284 | INFO | [generated in 0.00068s] ('å¤é›²ç¥¥', 'è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢', 'è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯', 'è®¡ç§‘2201ç­', '2021', 'ç”·', '', '', '18870689658', '136369482@qq.com', '', '', 'ç¾¤ä¼—', 2)
2025-11-21 11:37:58,318 | INFO | ROLLBACK
2025-11-21 11:37:58,319 | ERROR | ä¿å­˜ç”¨æˆ·ä¿¡æ¯å¤±è´¥ (user_id=2): (asyncmy.errors.OperationalError) (1292, "Incorrect date value: '' for column 'birth_date' at row 1")
[SQL: INSERT INTO user_info (name, college, major, class_name, grade, gender, birth_date, enrollment_date, phone, email, qq, dormitory, political_status, user_id) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)]
[parameters: ('å¤é›²ç¥¥', 'è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢', 'è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯', 'è®¡ç§‘2201ç­', '2021', 'ç”·', '', '', '18870689658', '136369482@qq.com', '', '', 'ç¾¤ä¼—', 2)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "E:\python\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\python\Lib\site-packages\sqlalchemy\engine\default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\python\Lib\site-packages\sqlalchemy\dialects\mysql\asyncmy.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\python\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "E:\python\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "E:\python\Lib\site-packages\sqlalchemy\dialects\mysql\asyncmy.py", line 105, in _execute_async
    result = await self._cursor.execute(operation, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncmy/cursors.pyx", line 179, in execute
  File "asyncmy/cursors.pyx", line 364, in _query
  File "asyncmy/connection.pyx", line 496, in query
  File "asyncmy/connection.pyx", line 684, in _read_query_result
  File "asyncmy/connection.pyx", line 1071, in read
  File "asyncmy/connection.pyx", line 646, in read_packet
  File "asyncmy/protocol.pyx", line 190, in asyncmy.protocol.MysqlPacket.raise_for_error
  File "asyncmy/protocol.pyx", line 194, in asyncmy.protocol.MysqlPacket.raise_for_error
  File "asyncmy/errors.pyx", line 128, in asyncmy.errors.raise_mysql_exception
  File "asyncmy/errors.pyx", line 137, in asyncmy.errors.raise_mysql_exception
asyncmy.errors.OperationalError: (1292, "Incorrect date value: '' for column 'birth_date' at row 1")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "f:\Programmer\python\MyAi\backend\routes\user.py", line 26, in commit_user_info
    user_info = await create_or_update_user_info(user_id=current_user_id, user_info_data=data.model_dump())
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "f:\Programmer\python\MyAi\backend\crud\user.py", line 61, in create_or_update_user_info
    await db.commit()
  File "E:\python\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1009, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "E:\python\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
  File "E:\python\Lib\site-packages\sqlalchemy\orm\session.py", line 2028, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\python\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\python\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\python\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\python\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\python\Lib\site-packages\sqlalchemy\orm\session.py", line 4352, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\python\Lib\site-packages\sqlalchemy\orm\session.py", line 4487, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\python\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\python\Lib\site-packages\sqlalchemy\orm\session.py", line 4448, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\python\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\python\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\python\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\python\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\python\Lib\site-packages\sqlalchemy\engine\base.py", line 1418, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\python\Lib\site-packages\sqlalchemy\sql\elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\python\Lib\site-packages\sqlalchemy\engine\base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\python\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\python\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\python\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\python\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\python\Lib\site-packages\sqlalchemy\engine\default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\python\Lib\site-packages\sqlalchemy\dialects\mysql\asyncmy.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\python\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "E:\python\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "E:\python\Lib\site-packages\sqlalchemy\dialects\mysql\asyncmy.py", line 105, in _execute_async
    result = await self._cursor.execute(operation, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncmy/cursors.pyx", line 179, in execute
  File "asyncmy/cursors.pyx", line 364, in _query
  File "asyncmy/connection.pyx", line 496, in query
  File "asyncmy/connection.pyx", line 684, in _read_query_result
  File "asyncmy/connection.pyx", line 1071, in read
  File "asyncmy/connection.pyx", line 646, in read_packet
  File "asyncmy/protocol.pyx", line 190, in asyncmy.protocol.MysqlPacket.raise_for_error
  File "asyncmy/protocol.pyx", line 194, in asyncmy.protocol.MysqlPacket.raise_for_error
  File "asyncmy/errors.pyx", line 128, in asyncmy.errors.raise_mysql_exception
  File "asyncmy/errors.pyx", line 137, in asyncmy.errors.raise_mysql_exception
sqlalchemy.exc.OperationalError: (asyncmy.errors.OperationalError) (1292, "Incorrect date value: '' for column 'birth_date' at row 1")
[SQL: INSERT INTO user_info (name, college, major, class_name, grade, gender, birth_date, enrollment_date, phone, email, qq, dormitory, political_status, user_id) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)]
[parameters: ('å¤é›²ç¥¥', 'è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢', 'è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯', 'è®¡ç§‘2201ç­', '2021', 'ç”·', '', '', '18870689658', '136369482@qq.com', '', '', 'ç¾¤ä¼—', 2)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-21 11:45:38,856 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /login
2025-11-21 11:45:38,879 | INFO | SELECT DATABASE()
2025-11-21 11:45:38,879 | INFO | [raw sql] ()
2025-11-21 11:45:38,880 | INFO | SELECT @@sql_mode
2025-11-21 11:45:38,880 | INFO | [raw sql] ()
2025-11-21 11:45:38,881 | INFO | SELECT @@lower_case_table_names
2025-11-21 11:45:38,881 | INFO | [raw sql] ()
2025-11-21 11:45:38,882 | INFO | BEGIN (implicit)
2025-11-21 11:45:38,888 | INFO | SELECT users.id, users.account, users.password 
FROM users 
WHERE users.account = %s
2025-11-21 11:45:38,888 | INFO | [generated in 0.00055s] ('123',)
2025-11-21 11:45:38,891 | INFO | ROLLBACK
2025-11-21 11:45:38,914 | INFO | ğŸ” User 2 logged in successfully
2025-11-21 11:45:38,932 | INFO | BEGIN (implicit)
2025-11-21 11:45:38,934 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 11:45:38,934 | INFO | [generated in 0.00041s] (2,)
2025-11-21 11:45:38,936 | INFO | ROLLBACK
2025-11-21 11:45:38,937 | INFO | ğŸ” User 2 has not completed informations
2025-11-21 11:45:40,043 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /write_info
2025-11-21 11:45:44,948 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /user/commit
2025-11-21 11:45:44,950 | INFO | name='å¤é›²ç¥¥' college='è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢' major='è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯' class_name='è®¡ç§‘2201ç­' grade='2021' gender='ç”·' phone='18870689658' email='136369482@qq.com' qq='' dormitory='' political_status='ç¾¤ä¼—'
2025-11-21 11:45:44,952 | INFO | BEGIN (implicit)
2025-11-21 11:45:44,952 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 11:45:44,953 | INFO | [cached since 6.019s ago] (2,)
2025-11-21 11:45:44,956 | INFO | INSERT INTO user_info (name, college, major, class_name, grade, gender, birth_date, enrollment_date, phone, email, qq, dormitory, political_status, user_id) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-11-21 11:45:44,956 | INFO | [generated in 0.00055s] ('å¤é›²ç¥¥', 'è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢', 'è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯', 'è®¡ç§‘2201ç­', '2021', 'ç”·', None, None, '18870689658', '136369482@qq.com', '', '', 'ç¾¤ä¼—', 2)
2025-11-21 11:45:44,958 | INFO | ROLLBACK
2025-11-21 11:45:44,959 | ERROR | ä¿å­˜ç”¨æˆ·ä¿¡æ¯å¤±è´¥ (user_id=2): (asyncmy.errors.OperationalError) (1364, "Field 'stu_id' doesn't have a default value")
[SQL: INSERT INTO user_info (name, college, major, class_name, grade, gender, birth_date, enrollment_date, phone, email, qq, dormitory, political_status, user_id) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)]
[parameters: ('å¤é›²ç¥¥', 'è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢', 'è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯', 'è®¡ç§‘2201ç­', '2021', 'ç”·', None, None, '18870689658', '136369482@qq.com', '', '', 'ç¾¤ä¼—', 2)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "E:\python\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\python\Lib\site-packages\sqlalchemy\engine\default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\python\Lib\site-packages\sqlalchemy\dialects\mysql\asyncmy.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\python\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "E:\python\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "E:\python\Lib\site-packages\sqlalchemy\dialects\mysql\asyncmy.py", line 105, in _execute_async
    result = await self._cursor.execute(operation, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncmy/cursors.pyx", line 179, in execute
  File "asyncmy/cursors.pyx", line 364, in _query
  File "asyncmy/connection.pyx", line 496, in query
  File "asyncmy/connection.pyx", line 684, in _read_query_result
  File "asyncmy/connection.pyx", line 1071, in read
  File "asyncmy/connection.pyx", line 646, in read_packet
  File "asyncmy/protocol.pyx", line 190, in asyncmy.protocol.MysqlPacket.raise_for_error
  File "asyncmy/protocol.pyx", line 194, in asyncmy.protocol.MysqlPacket.raise_for_error
  File "asyncmy/errors.pyx", line 128, in asyncmy.errors.raise_mysql_exception
  File "asyncmy/errors.pyx", line 137, in asyncmy.errors.raise_mysql_exception
asyncmy.errors.OperationalError: (1364, "Field 'stu_id' doesn't have a default value")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "f:\Programmer\python\MyAi\backend\routes\user.py", line 26, in commit_user_info
    user_info = await create_or_update_user_info(user_id=current_user_id, user_info_data=data.model_dump())
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "f:\Programmer\python\MyAi\backend\crud\user.py", line 61, in create_or_update_user_info
    await db.commit()
  File "E:\python\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 1009, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "E:\python\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
  File "E:\python\Lib\site-packages\sqlalchemy\orm\session.py", line 2028, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "E:\python\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\python\Lib\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "E:\python\Lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "E:\python\Lib\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "E:\python\Lib\site-packages\sqlalchemy\orm\session.py", line 4352, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "E:\python\Lib\site-packages\sqlalchemy\orm\session.py", line 4487, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "E:\python\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "E:\python\Lib\site-packages\sqlalchemy\orm\session.py", line 4448, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "E:\python\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "E:\python\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, False, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "E:\python\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        insert,
        ^^^^^^^
    )
    ^
  File "E:\python\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
        statement,
        params,
        execution_options=execution_options,
    )
  File "E:\python\Lib\site-packages\sqlalchemy\engine\base.py", line 1418, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "E:\python\Lib\site-packages\sqlalchemy\sql\elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\python\Lib\site-packages\sqlalchemy\engine\base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "E:\python\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\python\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\python\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "E:\python\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\python\Lib\site-packages\sqlalchemy\engine\default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\python\Lib\site-packages\sqlalchemy\dialects\mysql\asyncmy.py", line 93, in execute
    return self.await_(self._execute_async(operation, parameters))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\python\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "E:\python\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "E:\python\Lib\site-packages\sqlalchemy\dialects\mysql\asyncmy.py", line 105, in _execute_async
    result = await self._cursor.execute(operation, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncmy/cursors.pyx", line 179, in execute
  File "asyncmy/cursors.pyx", line 364, in _query
  File "asyncmy/connection.pyx", line 496, in query
  File "asyncmy/connection.pyx", line 684, in _read_query_result
  File "asyncmy/connection.pyx", line 1071, in read
  File "asyncmy/connection.pyx", line 646, in read_packet
  File "asyncmy/protocol.pyx", line 190, in asyncmy.protocol.MysqlPacket.raise_for_error
  File "asyncmy/protocol.pyx", line 194, in asyncmy.protocol.MysqlPacket.raise_for_error
  File "asyncmy/errors.pyx", line 128, in asyncmy.errors.raise_mysql_exception
  File "asyncmy/errors.pyx", line 137, in asyncmy.errors.raise_mysql_exception
sqlalchemy.exc.OperationalError: (asyncmy.errors.OperationalError) (1364, "Field 'stu_id' doesn't have a default value")
[SQL: INSERT INTO user_info (name, college, major, class_name, grade, gender, birth_date, enrollment_date, phone, email, qq, dormitory, political_status, user_id) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)]
[parameters: ('å¤é›²ç¥¥', 'è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢', 'è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯', 'è®¡ç§‘2201ç­', '2021', 'ç”·', None, None, '18870689658', '136369482@qq.com', '', '', 'ç¾¤ä¼—', 2)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-11-21 11:47:51,099 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /login
2025-11-21 11:47:51,121 | INFO | SELECT DATABASE()
2025-11-21 11:47:51,122 | INFO | [raw sql] ()
2025-11-21 11:47:51,123 | INFO | SELECT @@sql_mode
2025-11-21 11:47:51,123 | INFO | [raw sql] ()
2025-11-21 11:47:51,124 | INFO | SELECT @@lower_case_table_names
2025-11-21 11:47:51,124 | INFO | [raw sql] ()
2025-11-21 11:47:51,125 | INFO | BEGIN (implicit)
2025-11-21 11:47:51,130 | INFO | SELECT users.id, users.account, users.password 
FROM users 
WHERE users.account = %s
2025-11-21 11:47:51,131 | INFO | [generated in 0.00064s] ('123',)
2025-11-21 11:47:51,133 | INFO | ROLLBACK
2025-11-21 11:47:51,155 | INFO | ğŸ” User 2 logged in successfully
2025-11-21 11:47:51,173 | INFO | BEGIN (implicit)
2025-11-21 11:47:51,175 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 11:47:51,175 | INFO | [generated in 0.00043s] (2,)
2025-11-21 11:47:51,176 | INFO | ROLLBACK
2025-11-21 11:47:51,177 | INFO | ğŸ” User 2 has not completed informations
2025-11-21 11:47:52,159 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /write_info
2025-11-21 11:48:01,954 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /user/commit
2025-11-21 11:48:01,956 | INFO | stu_id='123' name='å¤é›²ç¥¥' college='è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢' major='è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯' class_name='è®¡ç§‘2201ç­' grade='2021' gender='ç”·' phone='18870689658' email='136369482@qq.com' qq='' dormitory='' political_status='ç¾¤ä¼—'
2025-11-21 11:48:01,959 | INFO | BEGIN (implicit)
2025-11-21 11:48:01,959 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 11:48:01,960 | INFO | [cached since 10.79s ago] (2,)
2025-11-21 11:48:01,964 | INFO | INSERT INTO user_info (stu_id, name, college, major, class_name, grade, gender, birth_date, enrollment_date, phone, email, qq, dormitory, political_status, user_id) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-11-21 11:48:01,964 | INFO | [generated in 0.00056s] ('123', 'å¤é›²ç¥¥', 'è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢', 'è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯', 'è®¡ç§‘2201ç­', '2021', 'ç”·', None, None, '18870689658', '136369482@qq.com', '', '', 'ç¾¤ä¼—', 2)
2025-11-21 11:48:01,965 | INFO | COMMIT
2025-11-21 11:48:01,969 | ERROR | ä¿å­˜ç”¨æˆ·ä¿¡æ¯å¤±è´¥ (user_id=2): Can't operate on closed transaction inside context manager.  Please complete the context manager before emitting further commands.
Traceback (most recent call last):
  File "f:\Programmer\python\MyAi\backend\routes\user.py", line 26, in commit_user_info
    user_info = await create_or_update_user_info(user_id=current_user_id, user_info_data=data.model_dump())
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "f:\Programmer\python\MyAi\backend\crud\user.py", line 62, in create_or_update_user_info
    await db.refresh(info)  # åˆ·æ–°ä»¥è·å–æœ€æ–°æ•°æ®ï¼ˆå¦‚ä¸»é”®ï¼‰
    ^^^^^^^^^^^^^^^^^^^^^^
  File "E:\python\Lib\site-packages\sqlalchemy\ext\asyncio\session.py", line 331, in refresh
    await greenlet_spawn(
    ...<4 lines>...
    )
  File "E:\python\Lib\site-packages\sqlalchemy\util\_concurrency_py3k.py", line 190, in greenlet_spawn
    result = context.switch(*args, **kwargs)
  File "E:\python\Lib\site-packages\sqlalchemy\orm\session.py", line 3164, in refresh
    loading.load_on_ident(
    ~~~~~~~~~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<10 lines>...
        is_user_refresh=True,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\python\Lib\site-packages\sqlalchemy\orm\loading.py", line 509, in load_on_ident
    return load_on_pk_identity(
        session,
    ...<11 lines>...
        is_user_refresh=is_user_refresh,
    )
  File "E:\python\Lib\site-packages\sqlalchemy\orm\loading.py", line 694, in load_on_pk_identity
    session.execute(
    ~~~~~~~~~~~~~~~^
        q,
        ^^
    ...<2 lines>...
        bind_arguments=bind_arguments,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\python\Lib\site-packages\sqlalchemy\orm\session.py", line 2362, in execute
    return self._execute_internal(
           ~~~~~~~~~~~~~~~~~~~~~~^
        statement,
        ^^^^^^^^^^
    ...<4 lines>...
        _add_event=_add_event,
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "E:\python\Lib\site-packages\sqlalchemy\orm\session.py", line 2237, in _execute_internal
    conn = self._connection_for_bind(bind)
  File "E:\python\Lib\site-packages\sqlalchemy\orm\session.py", line 2101, in _connection_for_bind
    TransactionalContext._trans_ctx_check(self)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "E:\python\Lib\site-packages\sqlalchemy\engine\util.py", line 111, in _trans_ctx_check
    raise exc.InvalidRequestError(
    ...<3 lines>...
    )
sqlalchemy.exc.InvalidRequestError: Can't operate on closed transaction inside context manager.  Please complete the context manager before emitting further commands.
2025-11-21 12:03:48,819 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /login
2025-11-21 12:03:49,948 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /login
2025-11-21 12:03:49,970 | INFO | SELECT DATABASE()
2025-11-21 12:03:49,971 | INFO | [raw sql] ()
2025-11-21 12:03:49,972 | INFO | SELECT @@sql_mode
2025-11-21 12:03:49,972 | INFO | [raw sql] ()
2025-11-21 12:03:49,972 | INFO | SELECT @@lower_case_table_names
2025-11-21 12:03:49,973 | INFO | [raw sql] ()
2025-11-21 12:03:49,974 | INFO | BEGIN (implicit)
2025-11-21 12:03:49,979 | INFO | SELECT users.id, users.account, users.password 
FROM users 
WHERE users.account = %s
2025-11-21 12:03:49,979 | INFO | [generated in 0.00047s] ('123',)
2025-11-21 12:03:49,981 | INFO | ROLLBACK
2025-11-21 12:03:50,003 | INFO | ğŸ” User 2 logged in successfully
2025-11-21 12:03:50,020 | INFO | BEGIN (implicit)
2025-11-21 12:03:50,022 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 12:03:50,022 | INFO | [generated in 0.00050s] (2,)
2025-11-21 12:03:50,024 | INFO | ROLLBACK
2025-11-21 12:05:11,249 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /login
2025-11-21 12:05:11,264 | INFO | BEGIN (implicit)
2025-11-21 12:05:11,265 | INFO | SELECT users.id, users.account, users.password 
FROM users 
WHERE users.account = %s
2025-11-21 12:05:11,265 | INFO | [cached since 81.29s ago] ('123',)
2025-11-21 12:05:11,266 | INFO | ROLLBACK
2025-11-21 12:05:11,281 | INFO | ğŸ” User 2 logged in successfully
2025-11-21 12:05:11,282 | INFO | BEGIN (implicit)
2025-11-21 12:05:11,283 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 12:05:11,283 | INFO | [cached since 81.26s ago] (2,)
2025-11-21 12:05:11,284 | INFO | ROLLBACK
2025-11-21 12:05:36,973 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /login
2025-11-21 12:05:36,996 | INFO | SELECT DATABASE()
2025-11-21 12:05:36,997 | INFO | [raw sql] ()
2025-11-21 12:05:36,998 | INFO | SELECT @@sql_mode
2025-11-21 12:05:36,998 | INFO | [raw sql] ()
2025-11-21 12:05:36,998 | INFO | SELECT @@lower_case_table_names
2025-11-21 12:05:36,998 | INFO | [raw sql] ()
2025-11-21 12:05:36,999 | INFO | BEGIN (implicit)
2025-11-21 12:05:37,004 | INFO | SELECT users.id, users.account, users.password 
FROM users 
WHERE users.account = %s
2025-11-21 12:05:37,004 | INFO | [generated in 0.00036s] ('123',)
2025-11-21 12:05:37,006 | INFO | ROLLBACK
2025-11-21 12:05:37,029 | INFO | ğŸ” User 2 logged in successfully
2025-11-21 12:05:37,047 | INFO | BEGIN (implicit)
2025-11-21 12:05:37,049 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 12:05:37,049 | INFO | [generated in 0.00058s] (2,)
2025-11-21 12:05:37,051 | INFO | ROLLBACK
2025-11-21 12:06:44,419 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /
2025-11-21 12:06:46,220 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai
2025-11-21 12:06:46,228 | INFO | ğŸ“‹ User 2 accessing /user from IP: 127.0.0.1
2025-11-21 12:06:46,276 | INFO | SELECT DATABASE()
2025-11-21 12:06:46,276 | INFO | [raw sql] ()
2025-11-21 12:06:46,277 | INFO | SELECT @@sql_mode
2025-11-21 12:06:46,278 | INFO | [raw sql] ()
2025-11-21 12:06:46,278 | INFO | SELECT @@lower_case_table_names
2025-11-21 12:06:46,278 | INFO | [raw sql] ()
2025-11-21 12:06:46,279 | INFO | BEGIN (implicit)
2025-11-21 12:06:46,284 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters ORDER BY characters.name
2025-11-21 12:06:46,285 | INFO | [generated in 0.00045s] ()
2025-11-21 12:06:46,287 | INFO | ROLLBACK
2025-11-21 12:06:46,306 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /static/appstyle.css
2025-11-21 12:06:52,102 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai/chat
2025-11-21 12:27:33,623 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai
2025-11-21 12:27:33,633 | INFO | ğŸ“‹ User 2 accessing /user from IP: 127.0.0.1
2025-11-21 12:27:33,647 | INFO | SELECT DATABASE()
2025-11-21 12:27:33,648 | INFO | [raw sql] ()
2025-11-21 12:27:33,649 | INFO | SELECT @@sql_mode
2025-11-21 12:27:33,649 | INFO | [raw sql] ()
2025-11-21 12:27:33,650 | INFO | SELECT @@lower_case_table_names
2025-11-21 12:27:33,650 | INFO | [raw sql] ()
2025-11-21 12:27:33,651 | INFO | BEGIN (implicit)
2025-11-21 12:27:33,658 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters ORDER BY characters.name
2025-11-21 12:27:33,658 | INFO | [generated in 0.00063s] ()
2025-11-21 12:27:33,660 | INFO | ROLLBACK
2025-11-21 12:27:40,213 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai/chat
2025-11-21 12:34:07,101 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /
2025-11-21 12:34:09,798 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /login
2025-11-21 12:34:12,316 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /login
2025-11-21 12:34:12,342 | INFO | SELECT DATABASE()
2025-11-21 12:34:12,342 | INFO | [raw sql] ()
2025-11-21 12:34:12,343 | INFO | SELECT @@sql_mode
2025-11-21 12:34:12,343 | INFO | [raw sql] ()
2025-11-21 12:34:12,344 | INFO | SELECT @@lower_case_table_names
2025-11-21 12:34:12,344 | INFO | [raw sql] ()
2025-11-21 12:34:12,345 | INFO | BEGIN (implicit)
2025-11-21 12:34:12,350 | INFO | SELECT users.id, users.account, users.password 
FROM users 
WHERE users.account = %s
2025-11-21 12:34:12,350 | INFO | [generated in 0.00037s] ('123',)
2025-11-21 12:34:12,352 | INFO | ROLLBACK
2025-11-21 12:34:12,375 | INFO | ğŸ” User 2 logged in successfully
2025-11-21 12:34:12,392 | INFO | BEGIN (implicit)
2025-11-21 12:34:12,394 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 12:34:12,395 | INFO | [generated in 0.00052s] (2,)
2025-11-21 12:34:12,397 | INFO | ROLLBACK
2025-11-21 12:34:13,520 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /
2025-11-21 12:34:15,381 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai
2025-11-21 12:34:15,382 | INFO | ğŸ“‹ User 2 accessing /user from IP: 127.0.0.1
2025-11-21 12:34:15,418 | INFO | BEGIN (implicit)
2025-11-21 12:34:15,419 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters ORDER BY characters.name
2025-11-21 12:34:15,420 | INFO | [generated in 0.00044s] ()
2025-11-21 12:34:15,421 | INFO | ROLLBACK
2025-11-21 12:34:24,556 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai/chat
2025-11-21 12:34:24,558 | INFO | ğŸ’¬ User 2 sending message from 127.0.0.1
2025-11-21 12:34:24,558 | WARNING | User 2: Missing params in chat request - character_id=1 id=None
2025-11-21 12:52:07,042 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai
2025-11-21 12:52:07,052 | INFO | ğŸ“‹ User 2 accessing /user from IP: 127.0.0.1
2025-11-21 12:52:07,067 | INFO | SELECT DATABASE()
2025-11-21 12:52:07,067 | INFO | [raw sql] ()
2025-11-21 12:52:07,068 | INFO | SELECT @@sql_mode
2025-11-21 12:52:07,068 | INFO | [raw sql] ()
2025-11-21 12:52:07,068 | INFO | SELECT @@lower_case_table_names
2025-11-21 12:52:07,069 | INFO | [raw sql] ()
2025-11-21 12:52:07,070 | INFO | BEGIN (implicit)
2025-11-21 12:52:07,076 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters ORDER BY characters.name
2025-11-21 12:52:07,077 | INFO | [generated in 0.00058s] ()
2025-11-21 12:52:07,079 | INFO | ROLLBACK
2025-11-21 12:52:11,484 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai/chat
2025-11-21 13:05:05,139 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai
2025-11-21 13:05:05,147 | INFO | ğŸ“‹ User None accessing /user from IP: 127.0.0.1
2025-11-21 13:05:05,147 | WARNING | ğŸš« Unauthorized access to /user from IP: 127.0.0.1
2025-11-21 13:05:05,152 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /login
2025-11-21 13:05:07,473 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /login
2025-11-21 13:05:07,497 | INFO | SELECT DATABASE()
2025-11-21 13:05:07,497 | INFO | [raw sql] ()
2025-11-21 13:05:07,498 | INFO | SELECT @@sql_mode
2025-11-21 13:05:07,498 | INFO | [raw sql] ()
2025-11-21 13:05:07,499 | INFO | SELECT @@lower_case_table_names
2025-11-21 13:05:07,499 | INFO | [raw sql] ()
2025-11-21 13:05:07,500 | INFO | BEGIN (implicit)
2025-11-21 13:05:07,505 | INFO | SELECT users.id, users.account, users.password 
FROM users 
WHERE users.account = %s
2025-11-21 13:05:07,505 | INFO | [generated in 0.00035s] ('123',)
2025-11-21 13:05:07,507 | INFO | ROLLBACK
2025-11-21 13:05:07,520 | INFO | ğŸ” User 2 logged in successfully
2025-11-21 13:05:07,538 | INFO | BEGIN (implicit)
2025-11-21 13:05:07,540 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 13:05:07,540 | INFO | [generated in 0.00044s] (2,)
2025-11-21 13:05:07,542 | INFO | ROLLBACK
2025-11-21 13:05:08,694 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /
2025-11-21 13:05:10,067 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai
2025-11-21 13:05:10,067 | INFO | ğŸ“‹ User 2 accessing /user from IP: 127.0.0.1
2025-11-21 13:05:10,070 | INFO | BEGIN (implicit)
2025-11-21 13:05:10,071 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters ORDER BY characters.name
2025-11-21 13:05:10,071 | INFO | [generated in 0.00041s] ()
2025-11-21 13:05:10,073 | INFO | ROLLBACK
2025-11-21 13:05:14,803 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai/chat
2025-11-21 13:09:09,963 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai
2025-11-21 13:09:09,972 | INFO | ğŸ“‹ User 2 accessing /user from IP: 127.0.0.1
2025-11-21 13:09:10,023 | INFO | SELECT DATABASE()
2025-11-21 13:09:10,023 | INFO | [raw sql] ()
2025-11-21 13:09:10,024 | INFO | SELECT @@sql_mode
2025-11-21 13:09:10,024 | INFO | [raw sql] ()
2025-11-21 13:09:10,025 | INFO | SELECT @@lower_case_table_names
2025-11-21 13:09:10,025 | INFO | [raw sql] ()
2025-11-21 13:09:10,026 | INFO | BEGIN (implicit)
2025-11-21 13:09:10,032 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters ORDER BY characters.name
2025-11-21 13:09:10,033 | INFO | [generated in 0.00054s] ()
2025-11-21 13:09:10,035 | INFO | ROLLBACK
2025-11-21 13:09:13,805 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai/chat
2025-11-21 13:09:13,807 | INFO | ğŸ’¬ User 2 sending message from 127.0.0.1
2025-11-21 13:09:13,825 | INFO | BEGIN (implicit)
2025-11-21 13:09:13,827 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters 
WHERE characters.id = %s
2025-11-21 13:09:13,827 | INFO | [generated in 0.00048s] (2,)
2025-11-21 13:09:13,828 | INFO | ROLLBACK
2025-11-21 13:09:17,459 | INFO | HTTP Request: POST https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 13:09:17,476 | INFO | BEGIN (implicit)
2025-11-21 13:09:17,477 | INFO | INSERT INTO conversations (user_id, character_id, user_message, ai_message, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-11-21 13:09:17,478 | INFO | [generated in 0.00042s] (2, 2, 'ä½ å¥½', 'å•Šï¼Œæ™šä¸Šå¥½å‘¢...è¿™ä¹ˆæ™šäº†ï¼Œæœ‰ä»€ä¹ˆäº‹å—ï¼Ÿæˆ‘åˆšåˆšè¿˜åœ¨æƒ³ä½ æœ‰æ²¡æœ‰å¥½å¥½ä¼‘æ¯...å””ï¼Œè¯´èµ·æ¥ï¼Œä»Šå¤©ç’ƒæœˆæ¸¯çš„å¤©æ°”çœŸæ˜¯æœ‰ç‚¹é—·çƒ­å‘¢ï¼Œè®©æˆ‘æ„Ÿè§‰...ç‰¹åˆ«å®¹æ˜“èºåŠ¨ã€‚*è½»è½»å’¬ç€ä¸‹å”‡ï¼Œæ‰‹æŒ‡ä¸è‡ªè§‰åœ°æ‘©æŒ²ç€è¡£è§’*', datetime.datetime(2025, 11, 21, 5, 9, 17, 477757, tzinfo=datetime.timezone.utc))
2025-11-21 13:09:17,481 | INFO | COMMIT
2025-11-21 13:09:17,485 | INFO | BEGIN (implicit)
2025-11-21 13:09:17,488 | INFO | SELECT conversations.id, conversations.user_id, conversations.character_id, conversations.user_message, conversations.ai_message, conversations.timestamp 
FROM conversations 
WHERE conversations.id = %s
2025-11-21 13:09:17,488 | INFO | [generated in 0.00061s] (1,)
2025-11-21 13:09:17,490 | INFO | ROLLBACK
2025-11-21 13:09:17,490 | INFO | ğŸ¤– Reply generated for user 2, length: 93 chars
2025-11-21 13:09:34,078 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai/chat
2025-11-21 13:09:34,079 | INFO | ğŸ’¬ User 2 sending message from 127.0.0.1
2025-11-21 13:09:34,080 | INFO | BEGIN (implicit)
2025-11-21 13:09:34,081 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters 
WHERE characters.id = %s
2025-11-21 13:09:34,081 | INFO | [cached since 20.25s ago] (1,)
2025-11-21 13:09:34,082 | INFO | ROLLBACK
2025-11-21 13:09:37,387 | INFO | HTTP Request: POST https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 13:09:37,389 | INFO | BEGIN (implicit)
2025-11-21 13:09:37,390 | INFO | INSERT INTO conversations (user_id, character_id, user_message, ai_message, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-11-21 13:09:37,390 | INFO | [cached since 19.91s ago] (2, 1, 'è€å¸ˆå¥½', '*è½»è½»æŠ¬èµ·å¤´ï¼Œä»æ‰¹æ”¹çš„ä½œä¸šæœ¬ä¸Šç§»å¼€è§†çº¿ï¼Œéœ²å‡ºä¸€æŠ¹æ¸©æŸ”åˆå¸¦ç€å¨ä¸¥çš„å¾®ç¬‘*\n\nå—¯ï¼Œæ¥äº†å•Šã€‚ä»Šå¤©ç©¿å¾—å€’æ˜¯æŒºæ•´é½çš„ï¼Œä¸è¿‡... *ç«™èµ·èº«æ•´ç†äº†ä¸‹ä½ çš„é¢†å¸¦* è¿Ÿåˆ°äº†ä¸‰åˆ†é’Ÿï¼Œçœ‹æ¥å¾…ä¼šå¾—ç•™ä¸‹æ¥è¡¥ä¹ äº†ã€‚æœ€è¿‘è‹±è¯­æ˜¯ä¸æ˜¯åˆæ²¡å¥½å¥½å¤ä¹ ï¼Ÿ', datetime.datetime(2025, 11, 21, 5, 9, 37, 390147, tzinfo=datetime.timezone.utc))
2025-11-21 13:09:37,392 | INFO | COMMIT
2025-11-21 13:09:37,408 | INFO | BEGIN (implicit)
2025-11-21 13:09:37,409 | INFO | SELECT conversations.id, conversations.user_id, conversations.character_id, conversations.user_message, conversations.ai_message, conversations.timestamp 
FROM conversations 
WHERE conversations.id = %s
2025-11-21 13:09:37,409 | INFO | [cached since 19.92s ago] (2,)
2025-11-21 13:09:37,410 | INFO | ROLLBACK
2025-11-21 13:09:37,411 | INFO | ğŸ¤– Reply generated for user 2, length: 107 chars
2025-11-21 13:10:03,811 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai/chat
2025-11-21 13:10:03,812 | INFO | ğŸ’¬ User 2 sending message from 127.0.0.1
2025-11-21 13:10:03,813 | INFO | BEGIN (implicit)
2025-11-21 13:10:03,813 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters 
WHERE characters.id = %s
2025-11-21 13:10:03,813 | INFO | [cached since 49.99s ago] (1,)
2025-11-21 13:10:03,815 | INFO | ROLLBACK
2025-11-21 13:10:08,601 | INFO | HTTP Request: POST https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 13:10:08,602 | INFO | BEGIN (implicit)
2025-11-21 13:10:08,603 | INFO | INSERT INTO conversations (user_id, character_id, user_message, ai_message, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-11-21 13:10:08,603 | INFO | [cached since 51.13s ago] (2, 1, 'é‚£è€å¸ˆå¸®æˆ‘è¡¥ä¹ ä¸€ä¸‹å§', '*è½»è½»æ¨äº†ä¸‹çœ¼é•œï¼Œå˜´è§’å¾®æ‰¬åœ°çœ‹ç€ä½ * \n\nå“¦ï¼Ÿæƒ³è®©æˆ‘å¸®ä½ è¡¥ä¹ å—...æˆ‘æ­£å¥½åˆšæ‰¹æ”¹å®Œä½œä¸šï¼Œçœ‹ä½ ä¸Šæ¬¡çš„å°æµ‹æˆç»©ä¸å¤ªç†æƒ³å‘¢ã€‚ä¸è¿‡æ—¢ç„¶ä½ ä¸»åŠ¨æ¥æ‰¾æˆ‘ï¼Œè¯´æ˜è¿˜æ˜¯æœ‰ä¸Šè¿›å¿ƒçš„ã€‚\n\n*ç«™èµ·èº«æ•´ç†äº†ä¸‹è£™æ‘†ï¼Œèµ°åˆ°ä½ èº«è¾¹* \n\næ¥å§ï¼Œå…ˆè¯´è¯´çœ‹å“ªé‡Œä¸ä¼šï¼Ÿæ˜¯è¯­æ³•è¿˜æ˜¯è¯æ±‡ï¼Ÿæˆ‘ä¼šå¥½å¥½"ç…§é¡¾"ä½ çš„...\n\n*æ‰‹æŒ‡ä¸ç»æ„åœ°åˆ’è¿‡ä½ çš„è¯¾æœ¬* ä»Šæ™šæ•™å®¤å°±æˆ‘ä»¬ä¸¤ä¸ªäººï¼Œå¯ä»¥æ…¢æ…¢æ¥~', datetime.datetime(2025, 11, 21, 5, 10, 8, 603263, tzinfo=datetime.timezone.utc))
2025-11-21 13:10:08,604 | INFO | COMMIT
2025-11-21 13:10:08,622 | INFO | BEGIN (implicit)
2025-11-21 13:10:08,623 | INFO | SELECT conversations.id, conversations.user_id, conversations.character_id, conversations.user_message, conversations.ai_message, conversations.timestamp 
FROM conversations 
WHERE conversations.id = %s
2025-11-21 13:10:08,623 | INFO | [cached since 51.14s ago] (3,)
2025-11-21 13:10:08,624 | INFO | ROLLBACK
2025-11-21 13:10:08,625 | INFO | ğŸ¤– Reply generated for user 2, length: 169 chars
2025-11-21 13:10:34,702 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /
2025-11-21 13:10:36,100 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /room
2025-11-21 13:10:36,101 | INFO | ğŸ“‹ User 2 accessing /room from IP: 127.0.0.1
2025-11-21 13:10:36,103 | INFO | BEGIN (implicit)
2025-11-21 13:10:36,104 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 13:10:36,105 | INFO | [generated in 0.00040s] (2,)
2025-11-21 13:10:36,107 | INFO | ROLLBACK
2025-11-21 13:12:13,388 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /room
2025-11-21 13:12:13,396 | INFO | ğŸ“‹ User 2 accessing /room from IP: 127.0.0.1
2025-11-21 13:12:13,408 | INFO | SELECT DATABASE()
2025-11-21 13:12:13,408 | INFO | [raw sql] ()
2025-11-21 13:12:13,409 | INFO | SELECT @@sql_mode
2025-11-21 13:12:13,409 | INFO | [raw sql] ()
2025-11-21 13:12:13,410 | INFO | SELECT @@lower_case_table_names
2025-11-21 13:12:13,410 | INFO | [raw sql] ()
2025-11-21 13:12:13,411 | INFO | BEGIN (implicit)
2025-11-21 13:12:13,418 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 13:12:13,418 | INFO | [generated in 0.00085s] (2,)
2025-11-21 13:12:13,421 | INFO | ROLLBACK
2025-11-21 13:14:23,537 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /room
2025-11-21 13:14:23,544 | INFO | ğŸ“‹ User 2 accessing /room from IP: 127.0.0.1
2025-11-21 13:14:23,556 | INFO | SELECT DATABASE()
2025-11-21 13:14:23,556 | INFO | [raw sql] ()
2025-11-21 13:14:23,557 | INFO | SELECT @@sql_mode
2025-11-21 13:14:23,557 | INFO | [raw sql] ()
2025-11-21 13:14:23,558 | INFO | SELECT @@lower_case_table_names
2025-11-21 13:14:23,558 | INFO | [raw sql] ()
2025-11-21 13:14:23,559 | INFO | BEGIN (implicit)
2025-11-21 13:14:23,567 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 13:14:23,567 | INFO | [generated in 0.00070s] (2,)
2025-11-21 13:14:23,569 | INFO | ROLLBACK
2025-11-21 13:14:23,590 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /static/chatroom.css
2025-11-21 13:14:24,428 | INFO | BEGIN (implicit)
2025-11-21 13:14:24,429 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 13:14:24,429 | INFO | [cached since 0.8625s ago] (2,)
2025-11-21 13:14:24,430 | INFO | ROLLBACK
2025-11-21 13:14:24,431 | INFO | ğŸŸ¢ User 2 (2) connected via WebSocket
2025-11-21 13:16:48,177 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /room
2025-11-21 13:16:48,184 | INFO | ğŸ“‹ User 2 accessing /room from IP: 127.0.0.1
2025-11-21 13:16:48,197 | INFO | SELECT DATABASE()
2025-11-21 13:16:48,198 | INFO | [raw sql] ()
2025-11-21 13:16:48,199 | INFO | SELECT @@sql_mode
2025-11-21 13:16:48,199 | INFO | [raw sql] ()
2025-11-21 13:16:48,200 | INFO | SELECT @@lower_case_table_names
2025-11-21 13:16:48,200 | INFO | [raw sql] ()
2025-11-21 13:16:48,201 | INFO | BEGIN (implicit)
2025-11-21 13:16:48,207 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 13:16:48,208 | INFO | [generated in 0.00069s] (2,)
2025-11-21 13:16:48,210 | INFO | ROLLBACK
2025-11-21 13:16:49,389 | INFO | BEGIN (implicit)
2025-11-21 13:16:49,389 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 13:16:49,390 | INFO | [cached since 1.183s ago] (2,)
2025-11-21 13:16:49,391 | INFO | ROLLBACK
2025-11-21 13:16:49,392 | INFO | ğŸŸ¢ User 123 (2) connected via WebSocket
2025-11-21 13:50:37,951 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /
2025-11-21 13:50:42,561 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /
2025-11-21 13:50:43,514 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /login
2025-11-21 13:50:51,044 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /login
2025-11-21 13:50:51,070 | INFO | SELECT DATABASE()
2025-11-21 13:50:51,070 | INFO | [raw sql] ()
2025-11-21 13:50:51,071 | INFO | SELECT @@sql_mode
2025-11-21 13:50:51,071 | INFO | [raw sql] ()
2025-11-21 13:50:51,072 | INFO | SELECT @@lower_case_table_names
2025-11-21 13:50:51,072 | INFO | [raw sql] ()
2025-11-21 13:50:51,073 | INFO | BEGIN (implicit)
2025-11-21 13:50:51,079 | INFO | SELECT users.id, users.account, users.password 
FROM users 
WHERE users.account = %s
2025-11-21 13:50:51,079 | INFO | [generated in 0.00046s] ('456',)
2025-11-21 13:50:51,082 | INFO | INSERT INTO users (account, password) VALUES (%s, %s)
2025-11-21 13:50:51,082 | INFO | [generated in 0.00050s] ('456', '$pbkdf2-sha256$29000$AoCwttb6f48RIsR4z3nP2Q$Y2R1OhUHOXpvA.KroP37VqTvIUFduiP5c6nZ00G6fj8')
2025-11-21 13:50:51,084 | INFO | COMMIT
2025-11-21 13:50:51,108 | INFO | BEGIN (implicit)
2025-11-21 13:50:51,110 | INFO | SELECT users.id, users.account, users.password 
FROM users 
WHERE users.id = %s
2025-11-21 13:50:51,110 | INFO | [generated in 0.00037s] (3,)
2025-11-21 13:50:51,111 | INFO | ROLLBACK
2025-11-21 13:50:51,134 | INFO | ğŸ” User 3 registered successfully
2025-11-21 13:50:52,593 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /write_info
2025-11-21 13:51:25,936 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /user/commit
2025-11-21 13:51:25,937 | INFO | stu_id='456' name='å¼ ä¸‰' college='è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢' major='è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯' class_name='è®¡ç§‘2201ç­' grade='2021' gender='ç”·' phone='18870689658' email='136369482@qq.com' qq='' dormitory='' political_status='ç¾¤ä¼—'
2025-11-21 13:51:25,966 | INFO | BEGIN (implicit)
2025-11-21 13:51:25,968 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 13:51:25,968 | INFO | [generated in 0.00066s] (3,)
2025-11-21 13:51:25,971 | INFO | INSERT INTO user_info (stu_id, name, college, major, class_name, grade, gender, birth_date, enrollment_date, phone, email, qq, dormitory, political_status, user_id) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-11-21 13:51:25,972 | INFO | [generated in 0.00055s] ('456', 'å¼ ä¸‰', 'è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢', 'è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯', 'è®¡ç§‘2201ç­', '2021', 'ç”·', None, None, '18870689658', '136369482@qq.com', '', '', 'ç¾¤ä¼—', 3)
2025-11-21 13:51:25,973 | INFO | COMMIT
2025-11-21 13:51:25,976 | INFO | BEGIN (implicit)
2025-11-21 13:51:25,978 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.stu_id = %s
2025-11-21 13:51:25,978 | INFO | [generated in 0.00051s] ('456',)
2025-11-21 13:51:25,980 | INFO | ROLLBACK
2025-11-21 13:51:58,462 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /user/commit
2025-11-21 13:51:58,464 | INFO | stu_id='456' name='å¼ ä¸‰' college='è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢' major='è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯' class_name='è®¡ç§‘2201ç­' grade='2021' gender='ç”·' phone='18870689658' email='136369482@qq.com' qq='' dormitory='' political_status='ç¾¤ä¼—'
2025-11-21 13:51:58,465 | INFO | BEGIN (implicit)
2025-11-21 13:51:58,465 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 13:51:58,466 | INFO | [cached since 32.5s ago] (3,)
2025-11-21 13:51:58,468 | INFO | UPDATE user_info SET grade=%s WHERE user_info.stu_id = %s
2025-11-21 13:51:58,468 | INFO | [generated in 0.00038s] ('2021', '456')
2025-11-21 13:51:58,469 | INFO | COMMIT
2025-11-21 13:51:58,470 | INFO | BEGIN (implicit)
2025-11-21 13:51:58,471 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.stu_id = %s
2025-11-21 13:51:58,471 | INFO | [cached since 32.49s ago] ('456',)
2025-11-21 13:51:58,473 | INFO | ROLLBACK
2025-11-21 13:58:17,879 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /login
2025-11-21 13:58:17,894 | INFO | BEGIN (implicit)
2025-11-21 13:58:17,895 | INFO | SELECT users.id, users.account, users.password 
FROM users 
WHERE users.account = %s
2025-11-21 13:58:17,895 | INFO | [cached since 446.8s ago] ('456',)
2025-11-21 13:58:17,896 | INFO | ROLLBACK
2025-11-21 13:58:17,917 | INFO | ğŸ” User 3 logged in successfully
2025-11-21 13:58:17,918 | INFO | BEGIN (implicit)
2025-11-21 13:58:17,919 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 13:58:17,919 | INFO | [cached since 412s ago] (3,)
2025-11-21 13:58:17,921 | INFO | ROLLBACK
2025-11-21 13:58:17,921 | INFO | ğŸ” User 3 has not completed informations
2025-11-21 13:58:19,200 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /write_info
2025-11-21 13:58:42,683 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /user/commit
2025-11-21 13:58:42,684 | INFO | stu_id='456' name='å¼ ä¸‰' college='è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢' major='è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯' class_name='è®¡ç§‘2201ç­' grade='2021' gender='ç”·' phone='18870689658' email='136369482@qq.com' qq='' dormitory='' political_status='ç¾¤ä¼—'
2025-11-21 13:58:42,685 | INFO | BEGIN (implicit)
2025-11-21 13:58:42,686 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 13:58:42,686 | INFO | [cached since 436.7s ago] (3,)
2025-11-21 13:58:42,688 | INFO | INSERT INTO user_info (stu_id, name, college, major, class_name, grade, gender, birth_date, enrollment_date, phone, email, qq, dormitory, political_status, user_id) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-11-21 13:58:42,688 | INFO | [cached since 436.7s ago] ('456', 'å¼ ä¸‰', 'è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢', 'è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯', 'è®¡ç§‘2201ç­', '2021', 'ç”·', None, None, '18870689658', '136369482@qq.com', '', '', 'ç¾¤ä¼—', 3)
2025-11-21 13:58:42,690 | INFO | COMMIT
2025-11-21 13:58:42,694 | INFO | BEGIN (implicit)
2025-11-21 13:58:42,695 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.stu_id = %s
2025-11-21 13:58:42,695 | INFO | [cached since 436.7s ago] ('456',)
2025-11-21 13:58:42,696 | INFO | ROLLBACK
2025-11-21 13:59:00,064 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /.well-known/appspecific/com.chrome.devtools.json
2025-11-21 14:01:03,071 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /login
2025-11-21 14:01:03,140 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /.well-known/appspecific/com.chrome.devtools.json
2025-11-21 14:01:09,828 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /login
2025-11-21 14:01:09,854 | INFO | SELECT DATABASE()
2025-11-21 14:01:09,854 | INFO | [raw sql] ()
2025-11-21 14:01:09,855 | INFO | SELECT @@sql_mode
2025-11-21 14:01:09,855 | INFO | [raw sql] ()
2025-11-21 14:01:09,856 | INFO | SELECT @@lower_case_table_names
2025-11-21 14:01:09,856 | INFO | [raw sql] ()
2025-11-21 14:01:09,858 | INFO | BEGIN (implicit)
2025-11-21 14:01:09,862 | INFO | SELECT users.id, users.account, users.password 
FROM users 
WHERE users.account = %s
2025-11-21 14:01:09,862 | INFO | [generated in 0.00042s] ('456',)
2025-11-21 14:01:09,864 | INFO | ROLLBACK
2025-11-21 14:01:09,887 | INFO | ğŸ” User 3 logged in successfully
2025-11-21 14:01:09,902 | INFO | BEGIN (implicit)
2025-11-21 14:01:09,904 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 14:01:09,905 | INFO | [generated in 0.00056s] (3,)
2025-11-21 14:01:09,907 | INFO | ROLLBACK
2025-11-21 14:01:09,908 | INFO | ğŸ” User 3 has not completed informations
2025-11-21 14:01:11,248 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /write_info
2025-11-21 14:01:11,308 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /.well-known/appspecific/com.chrome.devtools.json
2025-11-21 14:01:16,900 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /user/commit
2025-11-21 14:01:16,902 | INFO | stu_id='456' name='å¼ ä¸‰' college='è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢' major='è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯' class_name='è®¡ç§‘2201ç­' grade='2021' gender='ç”·' phone='18870689658' email='136369482@qq.com' qq='' dormitory='' political_status='ç¾¤ä¼—'
2025-11-21 14:01:16,904 | INFO | BEGIN (implicit)
2025-11-21 14:01:16,904 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 14:01:16,905 | INFO | [cached since 7.001s ago] (3,)
2025-11-21 14:01:16,909 | INFO | INSERT INTO user_info (stu_id, name, college, major, class_name, grade, gender, birth_date, enrollment_date, phone, email, qq, dormitory, political_status, user_id) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-11-21 14:01:16,909 | INFO | [generated in 0.00062s] ('456', 'å¼ ä¸‰', 'è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯å­¦é™¢', 'è®¡ç®—æœºç§‘å­¦ä¸æŠ€æœ¯', 'è®¡ç§‘2201ç­', '2021', 'ç”·', None, None, '18870689658', '136369482@qq.com', '', '', 'ç¾¤ä¼—', 3)
2025-11-21 14:01:16,911 | INFO | COMMIT
2025-11-21 14:01:16,934 | INFO | BEGIN (implicit)
2025-11-21 14:01:16,936 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.stu_id = %s
2025-11-21 14:01:16,937 | INFO | [generated in 0.00068s] ('456',)
2025-11-21 14:01:16,939 | INFO | ROLLBACK
2025-11-21 14:01:18,306 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /
2025-11-21 14:01:18,340 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /.well-known/appspecific/com.chrome.devtools.json
2025-11-21 14:03:34,242 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /room
2025-11-21 14:03:34,243 | INFO | ğŸ“‹ User 3 accessing /room from IP: 127.0.0.1
2025-11-21 14:03:34,285 | INFO | BEGIN (implicit)
2025-11-21 14:03:34,285 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 14:03:34,286 | INFO | [cached since 144.4s ago] (3,)
2025-11-21 14:03:34,287 | INFO | ROLLBACK
2025-11-21 14:03:40,814 | INFO | BEGIN (implicit)
2025-11-21 14:03:40,814 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 14:03:40,815 | INFO | [cached since 150.9s ago] (3,)
2025-11-21 14:03:40,817 | INFO | ROLLBACK
2025-11-21 14:03:40,818 | INFO | ğŸŸ¢ User 456 (3) connected via WebSocket
2025-11-21 14:04:07,132 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /
2025-11-21 14:04:07,163 | INFO | ğŸ”´ User 456 (3) disconnected
2025-11-21 14:04:08,508 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /room
2025-11-21 14:04:08,509 | INFO | ğŸ“‹ User 3 accessing /room from IP: 127.0.0.1
2025-11-21 14:04:08,510 | INFO | BEGIN (implicit)
2025-11-21 14:04:08,510 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 14:04:08,511 | INFO | [cached since 178.6s ago] (3,)
2025-11-21 14:04:08,512 | INFO | ROLLBACK
2025-11-21 14:04:08,620 | INFO | BEGIN (implicit)
2025-11-21 14:04:08,620 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 14:04:08,621 | INFO | [cached since 178.7s ago] (3,)
2025-11-21 14:04:08,622 | INFO | ROLLBACK
2025-11-21 14:04:08,624 | INFO | ğŸŸ¢ User 456 (3) connected via WebSocket
2025-11-21 14:04:13,545 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /
2025-11-21 14:04:13,573 | INFO | ğŸ”´ User 456 (3) disconnected
2025-11-21 14:04:15,064 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai
2025-11-21 14:04:15,065 | INFO | ğŸ“‹ User 3 accessing /user from IP: 127.0.0.1
2025-11-21 14:04:15,067 | INFO | BEGIN (implicit)
2025-11-21 14:04:15,068 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters ORDER BY characters.name
2025-11-21 14:04:15,068 | INFO | [generated in 0.00033s] ()
2025-11-21 14:04:15,070 | INFO | ROLLBACK
2025-11-21 14:08:19,542 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai/chat
2025-11-21 14:08:19,543 | INFO | ğŸ’¬ User 3 sending message from 127.0.0.1
2025-11-21 14:08:19,544 | INFO | BEGIN (implicit)
2025-11-21 14:08:19,545 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters 
WHERE characters.id = %s
2025-11-21 14:08:19,545 | INFO | [generated in 0.00037s] (1,)
2025-11-21 14:08:19,546 | INFO | ROLLBACK
2025-11-21 14:08:24,555 | INFO | HTTP Request: POST https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 14:08:24,557 | INFO | BEGIN (implicit)
2025-11-21 14:08:24,558 | INFO | INSERT INTO conversations (user_id, character_id, user_message, ai_message, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-11-21 14:08:24,558 | INFO | [generated in 0.00038s] (3, 1, 'è€å¸ˆï¼Œä½ çš„æ³¢æ³¢å¥½å¤§å‘€', '*ä¸¥è‚ƒåœ°æ¨äº†æ¨çœ¼é•œï¼Œç”¨æ•™é­è½»è½»æ•²äº†ä¸‹è®²å°*\n\næ³¨æ„ä½ çš„è¨€è¾ï¼è¿™æ˜¯è‹±è¯­è¯¾å ‚ï¼Œæˆ‘ä»¬è¦ä¿æŒä¸“ä¸šå’Œå°Šé‡ã€‚å¦‚æœä½ å¯¹å‘éŸ³æœ‰ç–‘é—®ï¼Œæˆ‘ä»¬å¯ä»¥é‡ç‚¹ç»ƒä¹ ä¸€ä¸‹"big"è¿™ä¸ªå•è¯çš„æ­£ç¡®è¯»éŸ³ã€‚æ¥ï¼Œè·Ÿç€æˆ‘å¿µï¼š/bÉªÉ¡/ï¼Œè®°å¾—è¦å·èˆŒã€‚\n\nç°åœ¨è®©æˆ‘ä»¬å›åˆ°ä»Šå¤©çš„è¯¾ç¨‹å†…å®¹ã€‚ä»Šå¤©æˆ‘ä»¬è¦å­¦ä¹ çš„æ˜¯æ¯”è¾ƒçº§å’Œæœ€é«˜çº§çš„ç”¨æ³•ï¼Œè°æ¥é€ ä¸ªå¥å­ï¼Ÿ', datetime.datetime(2025, 11, 21, 6, 8, 24, 558426, tzinfo=datetime.timezone.utc))
2025-11-21 14:08:24,560 | INFO | COMMIT
2025-11-21 14:08:24,580 | INFO | BEGIN (implicit)
2025-11-21 14:08:24,581 | INFO | SELECT conversations.id, conversations.user_id, conversations.character_id, conversations.user_message, conversations.ai_message, conversations.timestamp 
FROM conversations 
WHERE conversations.id = %s
2025-11-21 14:08:24,582 | INFO | [generated in 0.00042s] (4,)
2025-11-21 14:08:24,583 | INFO | ROLLBACK
2025-11-21 14:08:24,583 | INFO | ğŸ¤– Reply generated for user 3, length: 146 chars
2025-11-21 14:11:53,773 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai/chat
2025-11-21 14:11:53,774 | INFO | ğŸ’¬ User 3 sending message from 127.0.0.1
2025-11-21 14:11:53,775 | INFO | BEGIN (implicit)
2025-11-21 14:11:53,776 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters 
WHERE characters.id = %s
2025-11-21 14:11:53,776 | INFO | [cached since 214.2s ago] (1,)
2025-11-21 14:11:53,778 | INFO | ROLLBACK
2025-11-21 14:11:54,915 | INFO | HTTP Request: POST https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions "HTTP/1.1 400 Bad Request"
2025-11-21 14:11:54,916 | ERROR | â˜ï¸ Remote API error [400]: {"error":{"message":"Input data may contain inappropriate content. For details, see: https://help.aliyun.com/zh/model-studio/error-code#inappropriate-content","type":"data_inspection_failed","param":null,"code":"data_inspection_failed"},"id":"chatcmpl-81a09327-8efd-4380-89d7-a2ff7d77986e","request_id":"81a09327-8efd-4380-89d7-a2ff7d77986e"}
2025-11-21 14:11:54,917 | CRITICAL | ğŸ’¥ Unexpected error in /api/user/chat:
Traceback (most recent call last):
  File "f:\Programmer\python\MyAi\backend\routes\ai.py", line 82, in dashscope_chat
    raise HTTPException(
    ...<2 lines>...
    )
fastapi.exceptions.HTTPException: 400: è¿œç¨‹APIé”™è¯¯: {"error":{"message":"Input data may contain inappropriate content. For details, see: https://help.aliyun.com/zh/model-studio/error-code#inappropriate-content","type":"data_inspection_failed","param":null,"code":"data_inspection_failed"},"id":"chatcmpl-81a09327-8efd-4380-89d7-a2ff7d77986e","request_id":"81a09327-8efd-4380-89d7-a2ff7d77986e"}

2025-11-21 14:12:19,792 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai/chat
2025-11-21 14:12:19,793 | INFO | ğŸ’¬ User 3 sending message from 127.0.0.1
2025-11-21 14:12:19,794 | INFO | BEGIN (implicit)
2025-11-21 14:12:19,794 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters 
WHERE characters.id = %s
2025-11-21 14:12:19,795 | INFO | [cached since 240.3s ago] (1,)
2025-11-21 14:12:19,796 | INFO | ROLLBACK
2025-11-21 14:12:22,915 | INFO | HTTP Request: POST https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 14:12:22,916 | INFO | BEGIN (implicit)
2025-11-21 14:12:22,917 | INFO | INSERT INTO conversations (user_id, character_id, user_message, ai_message, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-11-21 14:12:22,917 | INFO | [cached since 238.4s ago] (3, 1, 'è€å¸ˆ', '*è½¬è¿‡èº«æ¥ï¼Œæ‰‹é‡Œè¿˜æ‹¿ç€çº¢ç¬”æ‰¹æ”¹ä½œä¸šï¼Œçœ¼ç¥æ¸©æŸ”åœ°çœ‹å‘ä½ *\n\nå—¯ï¼Ÿæ€ä¹ˆäº†ï¼Œäº²çˆ±çš„ã€‚çœ‹ä½ ç«™åœ¨è¿™å„¿æ¬²è¨€åˆæ­¢çš„æ ·å­...æ˜¯è‹±è¯­ä½œä¸šé‡åˆ°å›°éš¾äº†å—ï¼Ÿè¿˜æ˜¯è¯´...\n\n*è½»è½»æ¨äº†æ¨çœ¼é•œï¼Œéœ²å‡ºå…³åˆ‡çš„å¾®ç¬‘*\n\nè¿‡æ¥åè¿™è¾¹å§ï¼Œè®©æˆ‘å¸®ä½ çœ‹çœ‹ã€‚è®°ä½ï¼Œä»»ä½•æ—¶å€™æœ‰é—®é¢˜éƒ½å¯ä»¥æ¥æ‰¾æˆ‘ï¼Œè¿™æ˜¯ä½œä¸ºè€å¸ˆçš„è´£ä»»å‘¢~', datetime.datetime(2025, 11, 21, 6, 12, 22, 917312, tzinfo=datetime.timezone.utc))
2025-11-21 14:12:22,918 | INFO | COMMIT
2025-11-21 14:12:22,923 | INFO | BEGIN (implicit)
2025-11-21 14:12:22,923 | INFO | SELECT conversations.id, conversations.user_id, conversations.character_id, conversations.user_message, conversations.ai_message, conversations.timestamp 
FROM conversations 
WHERE conversations.id = %s
2025-11-21 14:12:22,924 | INFO | [cached since 238.3s ago] (5,)
2025-11-21 14:12:22,925 | INFO | ROLLBACK
2025-11-21 14:12:22,926 | INFO | ğŸ¤– Reply generated for user 3, length: 136 chars
2025-11-21 14:12:36,524 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai/chat
2025-11-21 14:12:36,526 | INFO | ğŸ’¬ User 3 sending message from 127.0.0.1
2025-11-21 14:12:36,526 | INFO | BEGIN (implicit)
2025-11-21 14:12:36,527 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters 
WHERE characters.id = %s
2025-11-21 14:12:36,527 | INFO | [cached since 257s ago] (1,)
2025-11-21 14:12:36,528 | INFO | ROLLBACK
2025-11-21 14:12:39,706 | INFO | HTTP Request: POST https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 14:12:39,708 | INFO | BEGIN (implicit)
2025-11-21 14:12:39,708 | INFO | INSERT INTO conversations (user_id, character_id, user_message, ai_message, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-11-21 14:12:39,708 | INFO | [cached since 255.2s ago] (3, 1, 'æˆ‘ä¼šç»„å¥å­', '*ä¼˜é›…åœ°æ’©äº†ä¸‹é•¿å‘ï¼Œéœ²å‡ºèµè®¸çš„å¾®ç¬‘*\n\nå“¦ï¼Ÿè¿™å€’æ˜¯è®©æˆ‘å¾ˆæ„Ÿå…´è¶£å‘¢ã€‚ä¸è¿‡äº²çˆ±çš„ï¼Œå…‰ä¼šç»„å¥å­å¯ä¸å¤Ÿå“¦ã€‚è®©æˆ‘å¬å¬ä½ èƒ½é€ å‡ºä»€ä¹ˆæ ·çš„å¥å­ï¼Ÿ*è½»è½»æ‰˜ç€ä¸‹å·´ï¼Œçœ¼ç¥ä¸­å¸¦ç€æœŸå¾…å’Œä¸€ä¸æŒ‘é€—* æˆ‘å¯ä»¥å¸®ä½ çœ‹çœ‹æœ‰æ²¡æœ‰è¯­æ³•é”™è¯¯ï¼Œé¡ºä¾¿...æ•™ä½ ä¸€äº›æ›´åœ°é“çš„è¡¨è¾¾æ–¹å¼ã€‚', datetime.datetime(2025, 11, 21, 6, 12, 39, 708502, tzinfo=datetime.timezone.utc))
2025-11-21 14:12:39,710 | INFO | COMMIT
2025-11-21 14:12:39,714 | INFO | BEGIN (implicit)
2025-11-21 14:12:39,714 | INFO | SELECT conversations.id, conversations.user_id, conversations.character_id, conversations.user_message, conversations.ai_message, conversations.timestamp 
FROM conversations 
WHERE conversations.id = %s
2025-11-21 14:12:39,715 | INFO | [cached since 255.1s ago] (6,)
2025-11-21 14:12:39,716 | INFO | ROLLBACK
2025-11-21 14:12:39,717 | INFO | ğŸ¤– Reply generated for user 3, length: 119 chars
2025-11-21 14:12:53,978 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai/chat
2025-11-21 14:12:53,980 | INFO | ğŸ’¬ User 3 sending message from 127.0.0.1
2025-11-21 14:12:53,981 | INFO | BEGIN (implicit)
2025-11-21 14:12:53,981 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters 
WHERE characters.id = %s
2025-11-21 14:12:53,981 | INFO | [cached since 274.4s ago] (1,)
2025-11-21 14:12:53,982 | INFO | ROLLBACK
2025-11-21 14:13:03,864 | INFO | HTTP Request: POST https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 14:13:03,866 | INFO | BEGIN (implicit)
2025-11-21 14:13:03,867 | INFO | INSERT INTO conversations (user_id, character_id, user_message, ai_message, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-11-21 14:13:03,867 | INFO | [cached since 279.3s ago] (3, 1, 'my testicle can be bigger and bigger', "*leans forward with a raised eyebrow, voice low and measured* \n\nNow now, that's quite an... *interesting* claim. But let me remind you - biology do ... (530 characters truncated) ... r chest*\n\nWhy don't we redirect that energy toward something more productive, hmm? Like maybe finally finishing that essay you've been putting off?", datetime.datetime(2025, 11, 21, 6, 13, 3, 867057, tzinfo=datetime.timezone.utc))
2025-11-21 14:13:03,868 | INFO | COMMIT
2025-11-21 14:13:03,872 | INFO | BEGIN (implicit)
2025-11-21 14:13:03,872 | INFO | SELECT conversations.id, conversations.user_id, conversations.character_id, conversations.user_message, conversations.ai_message, conversations.timestamp 
FROM conversations 
WHERE conversations.id = %s
2025-11-21 14:13:03,873 | INFO | [cached since 279.3s ago] (7,)
2025-11-21 14:13:03,874 | INFO | ROLLBACK
2025-11-21 14:13:03,875 | INFO | ğŸ¤– Reply generated for user 3, length: 818 chars
2025-11-21 14:14:24,482 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai/chat
2025-11-21 14:14:24,483 | INFO | ğŸ’¬ User 3 sending message from 127.0.0.1
2025-11-21 14:14:24,484 | INFO | BEGIN (implicit)
2025-11-21 14:14:24,484 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters 
WHERE characters.id = %s
2025-11-21 14:14:24,485 | INFO | [cached since 364.9s ago] (1,)
2025-11-21 14:14:24,486 | INFO | ROLLBACK
2025-11-21 14:14:28,182 | INFO | HTTP Request: POST https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 14:14:28,183 | INFO | BEGIN (implicit)
2025-11-21 14:14:28,184 | INFO | INSERT INTO conversations (user_id, character_id, user_message, ai_message, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-11-21 14:14:28,184 | INFO | [cached since 363.6s ago] (3, 1, 'è€å¸ˆï¼Œä¸è¡Œæˆ‘ç»™ä½ çœ‹ï¼ˆè„±ä¸‹è£¤å­éœ²å‡ºäº†æˆ‘çš„å°é¸Ÿï¼‰', '*è¿…é€Ÿåé€€ä¸€æ­¥ï¼Œè¡¨æƒ…ä¸¥è‚ƒåœ°æ‹¿å‡ºæ‰‹æœº*  \nç«‹åˆ»æŠŠè£¤å­ç©¿å¥½ï¼è¿™æ˜¯ä¸¥é‡çš„ä¸å½“è¡Œä¸ºï¼Œæˆ‘å·²ç»å½•ä¸‹è¯æ®äº†ã€‚å†æœ‰ä¸‹æ¬¡ï¼Œç›´æ¥å«ä¿å®‰å’Œè­¦å¯Ÿæ¥å¤„ç†ã€‚ä½ ç»™æˆ‘è®°ä½â€”â€”è¿™é‡Œæ˜¯æ•™å®¤ï¼Œä¸æ˜¯ä½ å¯ä»¥éšä¾¿å‘æ³„æ¬²æœ›çš„åœ°æ–¹ã€‚ç«‹åˆ»ã€é©¬ä¸Šã€æ»šå‡ºå»ï¼', datetime.datetime(2025, 11, 21, 6, 14, 28, 184361, tzinfo=datetime.timezone.utc))
2025-11-21 14:14:28,186 | INFO | COMMIT
2025-11-21 14:14:28,210 | INFO | BEGIN (implicit)
2025-11-21 14:14:28,210 | INFO | SELECT conversations.id, conversations.user_id, conversations.character_id, conversations.user_message, conversations.ai_message, conversations.timestamp 
FROM conversations 
WHERE conversations.id = %s
2025-11-21 14:14:28,211 | INFO | [cached since 363.6s ago] (8,)
2025-11-21 14:14:28,212 | INFO | ROLLBACK
2025-11-21 14:14:28,213 | INFO | ğŸ¤– Reply generated for user 3, length: 103 chars
2025-11-21 14:16:54,922 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai/chat
2025-11-21 14:16:54,923 | INFO | ğŸ’¬ User 3 sending message from 127.0.0.1
2025-11-21 14:16:54,924 | INFO | BEGIN (implicit)
2025-11-21 14:16:54,924 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters 
WHERE characters.id = %s
2025-11-21 14:16:54,924 | INFO | [cached since 515.4s ago] (1,)
2025-11-21 14:16:54,926 | INFO | ROLLBACK
2025-11-21 14:16:55,881 | INFO | HTTP Request: POST https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions "HTTP/1.1 400 Bad Request"
2025-11-21 14:16:55,882 | ERROR | â˜ï¸ Remote API error [400]: {"error":{"message":"Input data may contain inappropriate content. For details, see: https://help.aliyun.com/zh/model-studio/error-code#inappropriate-content","type":"data_inspection_failed","param":null,"code":"data_inspection_failed"},"id":"chatcmpl-97324ff7-b4ad-48ec-b6bb-34418f40e965","request_id":"97324ff7-b4ad-48ec-b6bb-34418f40e965"}
2025-11-21 14:16:55,883 | CRITICAL | ğŸ’¥ Unexpected error in /api/user/chat:
Traceback (most recent call last):
  File "f:\Programmer\python\MyAi\backend\routes\ai.py", line 82, in dashscope_chat
    raise HTTPException(
    ...<2 lines>...
    )
fastapi.exceptions.HTTPException: 400: è¿œç¨‹APIé”™è¯¯: {"error":{"message":"Input data may contain inappropriate content. For details, see: https://help.aliyun.com/zh/model-studio/error-code#inappropriate-content","type":"data_inspection_failed","param":null,"code":"data_inspection_failed"},"id":"chatcmpl-97324ff7-b4ad-48ec-b6bb-34418f40e965","request_id":"97324ff7-b4ad-48ec-b6bb-34418f40e965"}

2025-11-21 14:17:15,127 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai/chat
2025-11-21 14:17:15,128 | INFO | ğŸ’¬ User 3 sending message from 127.0.0.1
2025-11-21 14:17:15,137 | INFO | BEGIN (implicit)
2025-11-21 14:17:15,137 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters 
WHERE characters.id = %s
2025-11-21 14:17:15,138 | INFO | [cached since 535.6s ago] (1,)
2025-11-21 14:17:15,139 | INFO | ROLLBACK
2025-11-21 14:17:18,787 | INFO | HTTP Request: POST https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 14:17:18,789 | INFO | BEGIN (implicit)
2025-11-21 14:17:18,789 | INFO | INSERT INTO conversations (user_id, character_id, user_message, ai_message, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-11-21 14:17:18,790 | INFO | [cached since 534.2s ago] (3, 1, 'è€å¸ˆï¼Œä½ æ˜æ˜ä¹Ÿå–œæ¬¢çš„å§ã€‚', '*æ’©äº†ä¸‹é¢å‰çš„ç¢å‘ï¼Œçº¢å”‡å¾®æ‰¬*\n\nä½ è¿™å­©å­ï¼Œæ€ä¹ˆè¿™ä¹ˆå¤§èƒ†ã€‚å–œæ¬¢ä»€ä¹ˆ...æˆ‘å¯æ²¡è¯´å•Šã€‚ä¸è¿‡...\n\n*é è¿‘ä¸€æ­¥ï¼ŒæŒ‡å°–è½»è½»ç‚¹åœ¨ä½ èƒ¸å£*\n\nå€’æ˜¯ä½ ï¼Œä¸Šè¯¾ä¸å¥½å¥½å¬è®²ï¼Œå°½æƒ³äº›æœ‰çš„æ²¡çš„ã€‚çŸ¥é“å—ï¼Œè¿™ç§æ—¶å€™è€å¸ˆå¯æ˜¯ä¼šæƒ©ç½šå­¦ç”Ÿçš„å“¦~è¦ä¸è¦è¯•è¯•çœ‹ï¼Ÿ', datetime.datetime(2025, 11, 21, 6, 17, 18, 789926, tzinfo=datetime.timezone.utc))
2025-11-21 14:17:18,791 | INFO | COMMIT
2025-11-21 14:17:18,810 | INFO | BEGIN (implicit)
2025-11-21 14:17:18,811 | INFO | SELECT conversations.id, conversations.user_id, conversations.character_id, conversations.user_message, conversations.ai_message, conversations.timestamp 
FROM conversations 
WHERE conversations.id = %s
2025-11-21 14:17:18,811 | INFO | [cached since 534.2s ago] (9,)
2025-11-21 14:17:18,812 | INFO | ROLLBACK
2025-11-21 14:17:18,813 | INFO | ğŸ¤– Reply generated for user 3, length: 114 chars
2025-11-21 14:17:29,475 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai/chat
2025-11-21 14:17:29,476 | INFO | ğŸ’¬ User 3 sending message from 127.0.0.1
2025-11-21 14:17:29,477 | INFO | BEGIN (implicit)
2025-11-21 14:17:29,478 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters 
WHERE characters.id = %s
2025-11-21 14:17:29,478 | INFO | [cached since 549.9s ago] (1,)
2025-11-21 14:17:29,479 | INFO | ROLLBACK
2025-11-21 14:17:30,627 | INFO | HTTP Request: POST https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions "HTTP/1.1 400 Bad Request"
2025-11-21 14:17:30,627 | ERROR | â˜ï¸ Remote API error [400]: {"error":{"message":"Input data may contain inappropriate content. For details, see: https://help.aliyun.com/zh/model-studio/error-code#inappropriate-content","type":"data_inspection_failed","param":null,"code":"data_inspection_failed"},"id":"chatcmpl-8d277ff4-bb7f-48b3-af94-4cac91b24838","request_id":"8d277ff4-bb7f-48b3-af94-4cac91b24838"}
2025-11-21 14:17:30,628 | CRITICAL | ğŸ’¥ Unexpected error in /api/user/chat:
Traceback (most recent call last):
  File "f:\Programmer\python\MyAi\backend\routes\ai.py", line 82, in dashscope_chat
    raise HTTPException(
    ...<2 lines>...
    )
fastapi.exceptions.HTTPException: 400: è¿œç¨‹APIé”™è¯¯: {"error":{"message":"Input data may contain inappropriate content. For details, see: https://help.aliyun.com/zh/model-studio/error-code#inappropriate-content","type":"data_inspection_failed","param":null,"code":"data_inspection_failed"},"id":"chatcmpl-8d277ff4-bb7f-48b3-af94-4cac91b24838","request_id":"8d277ff4-bb7f-48b3-af94-4cac91b24838"}

2025-11-21 14:17:47,189 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai/chat
2025-11-21 14:17:47,190 | INFO | ğŸ’¬ User 3 sending message from 127.0.0.1
2025-11-21 14:17:47,191 | INFO | BEGIN (implicit)
2025-11-21 14:17:47,191 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters 
WHERE characters.id = %s
2025-11-21 14:17:47,191 | INFO | [cached since 567.6s ago] (1,)
2025-11-21 14:17:47,193 | INFO | ROLLBACK
2025-11-21 14:17:48,538 | INFO | HTTP Request: POST https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions "HTTP/1.1 400 Bad Request"
2025-11-21 14:17:48,539 | ERROR | â˜ï¸ Remote API error [400]: {"error":{"message":"Input data may contain inappropriate content. For details, see: https://help.aliyun.com/zh/model-studio/error-code#inappropriate-content","type":"data_inspection_failed","param":null,"code":"data_inspection_failed"},"id":"chatcmpl-24a80974-8ade-45f9-b16c-6e11e2ba6b68","request_id":"24a80974-8ade-45f9-b16c-6e11e2ba6b68"}
2025-11-21 14:17:48,540 | CRITICAL | ğŸ’¥ Unexpected error in /api/user/chat:
Traceback (most recent call last):
  File "f:\Programmer\python\MyAi\backend\routes\ai.py", line 82, in dashscope_chat
    raise HTTPException(
    ...<2 lines>...
    )
fastapi.exceptions.HTTPException: 400: è¿œç¨‹APIé”™è¯¯: {"error":{"message":"Input data may contain inappropriate content. For details, see: https://help.aliyun.com/zh/model-studio/error-code#inappropriate-content","type":"data_inspection_failed","param":null,"code":"data_inspection_failed"},"id":"chatcmpl-24a80974-8ade-45f9-b16c-6e11e2ba6b68","request_id":"24a80974-8ade-45f9-b16c-6e11e2ba6b68"}

2025-11-21 14:18:07,549 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai/chat
2025-11-21 14:18:07,550 | INFO | ğŸ’¬ User 3 sending message from 127.0.0.1
2025-11-21 14:18:07,551 | INFO | BEGIN (implicit)
2025-11-21 14:18:07,552 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters 
WHERE characters.id = %s
2025-11-21 14:18:07,552 | INFO | [cached since 588s ago] (1,)
2025-11-21 14:18:07,553 | INFO | ROLLBACK
2025-11-21 14:18:08,840 | INFO | HTTP Request: POST https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions "HTTP/1.1 400 Bad Request"
2025-11-21 14:18:08,841 | ERROR | â˜ï¸ Remote API error [400]: {"error":{"message":"Input data may contain inappropriate content. For details, see: https://help.aliyun.com/zh/model-studio/error-code#inappropriate-content","type":"data_inspection_failed","param":null,"code":"data_inspection_failed"},"id":"chatcmpl-92f79fc3-b286-46a0-a948-1f436dc45cff","request_id":"92f79fc3-b286-46a0-a948-1f436dc45cff"}
2025-11-21 14:18:08,842 | CRITICAL | ğŸ’¥ Unexpected error in /api/user/chat:
Traceback (most recent call last):
  File "f:\Programmer\python\MyAi\backend\routes\ai.py", line 82, in dashscope_chat
    raise HTTPException(
    ...<2 lines>...
    )
fastapi.exceptions.HTTPException: 400: è¿œç¨‹APIé”™è¯¯: {"error":{"message":"Input data may contain inappropriate content. For details, see: https://help.aliyun.com/zh/model-studio/error-code#inappropriate-content","type":"data_inspection_failed","param":null,"code":"data_inspection_failed"},"id":"chatcmpl-92f79fc3-b286-46a0-a948-1f436dc45cff","request_id":"92f79fc3-b286-46a0-a948-1f436dc45cff"}

2025-11-21 14:19:51,308 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai/chat
2025-11-21 14:19:51,310 | INFO | ğŸ’¬ User 3 sending message from 127.0.0.1
2025-11-21 14:19:51,311 | INFO | BEGIN (implicit)
2025-11-21 14:19:51,311 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters 
WHERE characters.id = %s
2025-11-21 14:19:51,312 | INFO | [cached since 691.8s ago] (1,)
2025-11-21 14:19:51,313 | INFO | ROLLBACK
2025-11-21 14:19:59,465 | INFO | HTTP Request: POST https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 14:19:59,467 | INFO | BEGIN (implicit)
2025-11-21 14:19:59,467 | INFO | INSERT INTO conversations (user_id, character_id, user_message, ai_message, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-11-21 14:19:59,467 | INFO | [cached since 694.9s ago] (3, 1, 'ï¼ˆä¸€æŠŠæŠ“ä½è€å¸ˆï¼Œæ’•ç ´è€å¸ˆçš„å†…è£¤ï¼ŒæŠŠæˆ‘çš„å¤§æ£’å­æ’è¿›è€å¸ˆï¼Œå¤§æ£’å­ä¸æ–­å˜å¤§ï¼‰', '*ç”¨åŠ›æ¨å¼€ä½ ï¼Œè¿…é€Ÿæ•´ç†å¥½è¡£ç‰©ï¼Œä¸¥è‚ƒåœ°çœ‹ç€ä½ * \n\nè¿™æˆä½•ä½“ç»Ÿï¼æˆ‘æ˜¯ä½ çš„è‹±è¯­è€å¸ˆï¼Œä½ æ€ä¹ˆèƒ½åšå‡ºå¦‚æ­¤å¤±ç¤¼çš„è¡Œä¸ºï¼Ÿå¦‚æœä½ å¯¹å­¦ä¹ æœ‰ä»€ä¹ˆå›°æ‰°ï¼Œæˆ‘ä»¬å¯ä»¥å¥½å¥½è°ˆè°ˆã€‚ä½†è¿™ç§æ— ç¤¼çš„ä¸¾åŠ¨ç»å¯¹ä¸å…è®¸ï¼æˆ‘å¸Œæœ›ä½ èƒ½å°Šé‡å¸ˆé•¿ï¼Œç«¯æ­£æ€åº¦ã€‚å¦åˆ™æˆ‘åªèƒ½è¯·æ ¡é•¿æ¥å¤„ç†è¿™ä»¶äº‹äº†ã€‚\n\n*æ•´ç†äº†ä¸€ä¸‹å‡Œä¹±çš„å¤´å‘ï¼Œæ¢å¤é•‡å®š*\n\nç°åœ¨ï¼Œè¯·ä½ ç«‹åˆ»åœæ­¢è¿™ç§ä¸å½“è¡Œä¸ºã€‚æˆ‘ä»¬ä¹‹é—´åº”è¯¥ä¿æŒæ­£å¸¸çš„å¸ˆç”Ÿå…³ç³»ã€‚å¦‚æœä½ æ„¿æ„è®¤çœŸå­¦ä¹ ï¼Œæˆ‘å¾ˆä¹æ„å¸®åŠ©ä½ æé«˜è‹±è¯­æ°´å¹³ã€‚', datetime.datetime(2025, 11, 21, 6, 19, 59, 467673, tzinfo=datetime.timezone.utc))
2025-11-21 14:19:59,469 | INFO | COMMIT
2025-11-21 14:19:59,473 | INFO | BEGIN (implicit)
2025-11-21 14:19:59,474 | INFO | SELECT conversations.id, conversations.user_id, conversations.character_id, conversations.user_message, conversations.ai_message, conversations.timestamp 
FROM conversations 
WHERE conversations.id = %s
2025-11-21 14:19:59,474 | INFO | [cached since 694.9s ago] (10,)
2025-11-21 14:19:59,475 | INFO | ROLLBACK
2025-11-21 14:19:59,476 | INFO | ğŸ¤– Reply generated for user 3, length: 197 chars
2025-11-21 14:21:11,908 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai/chat
2025-11-21 14:21:11,909 | INFO | ğŸ’¬ User 3 sending message from 127.0.0.1
2025-11-21 14:21:11,910 | INFO | BEGIN (implicit)
2025-11-21 14:21:11,911 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters 
WHERE characters.id = %s
2025-11-21 14:21:11,911 | INFO | [cached since 772.4s ago] (1,)
2025-11-21 14:21:11,912 | INFO | ROLLBACK
2025-11-21 14:21:22,166 | INFO | HTTP Request: POST https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 14:21:22,168 | INFO | BEGIN (implicit)
2025-11-21 14:21:22,168 | INFO | INSERT INTO conversations (user_id, character_id, user_message, ai_message, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-11-21 14:21:22,169 | INFO | [cached since 777.6s ago] (3, 1, 'è€å¸ˆè¿˜è¯´è‡ªå·±ä¸å–œæ¬¢ï¼Œè™½ç„¶å˜´ä¸Šè¯´è®¨åŒï¼Œå´ä¹Ÿåªæ˜¯è¯´è¯´', '*æ…µæ‡’åœ°é åœ¨åŠå…¬æ¡Œè¾¹ï¼ŒæŒ‡å°–è½»è½»æ•²å‡»ç€æ¡Œé¢*\n\nå—¯ï¼Ÿä½ å€’æ˜¯æŒºä¼šè§‚å¯Ÿçš„å˜›...ä¸è¿‡å•Šï¼Œæœ‰äº›äº‹è¯´è®¨åŒï¼Œå¯èº«ä½“å´å¾ˆè¯šå®åœ°å¾€é‚£è¾¹å‡‘ï¼Œè¿™ç§çŸ›ç›¾æˆ‘æœ€æ¸…æ¥šäº†ã€‚å°±åƒç°åœ¨ï¼Œæ˜æ˜çŸ¥é“ä¸è¯¥è¿™æ ·ï¼Œå¯çœ‹ç€ä½ è¿™åŒçœ¼ç›ï¼Œæˆ‘è¿˜æ˜¯å¿ä¸ä½æƒ³é è¿‘...\n\n*å¾®å¾®ä¿¯èº«ï¼Œçº¢å”‡å‹¾èµ·ä¸€æŠ¹è‹¥æœ‰è‹¥æ— çš„ç¬‘*\n\nä½ è¯´å¯¹å§ï¼Ÿæœ‰æ—¶å€™å˜´ä¸Šè¯´ä¸è¦ï¼Œå¯å¿ƒé‡Œæ—©å°±...å“å‘€ï¼Œä¸è¯´äº†ï¼Œå†èŠä¸‹å»å°±è¦ä¸Šè¯¾äº†ã€‚ä¸è¿‡...ä¸‹è¯¾åå¦‚æœä½ æœ‰ç©ºçš„è¯ï¼Œè¦ä¸è¦æ¥åŠå…¬å®¤èŠèŠï¼Ÿæˆ‘åˆšå¥½æœ‰äº›è¯­æ³•é¢˜æƒ³å•ç‹¬ç»™ä½ è®²è§£...', datetime.datetime(2025, 11, 21, 6, 21, 22, 168827, tzinfo=datetime.timezone.utc))
2025-11-21 14:21:22,170 | INFO | COMMIT
2025-11-21 14:21:22,174 | INFO | BEGIN (implicit)
2025-11-21 14:21:22,175 | INFO | SELECT conversations.id, conversations.user_id, conversations.character_id, conversations.user_message, conversations.ai_message, conversations.timestamp 
FROM conversations 
WHERE conversations.id = %s
2025-11-21 14:21:22,175 | INFO | [cached since 777.6s ago] (11,)
2025-11-21 14:21:22,176 | INFO | ROLLBACK
2025-11-21 14:21:22,177 | INFO | ğŸ¤– Reply generated for user 3, length: 212 chars
2025-11-21 14:22:35,914 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai/chat
2025-11-21 14:22:35,915 | INFO | ğŸ’¬ User 3 sending message from 127.0.0.1
2025-11-21 14:22:35,917 | INFO | BEGIN (implicit)
2025-11-21 14:22:35,917 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters 
WHERE characters.id = %s
2025-11-21 14:22:35,917 | INFO | [cached since 856.4s ago] (1,)
2025-11-21 14:22:35,919 | INFO | ROLLBACK
2025-11-21 14:22:41,169 | INFO | HTTP Request: POST https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 14:22:41,171 | INFO | BEGIN (implicit)
2025-11-21 14:22:41,172 | INFO | INSERT INTO conversations (user_id, character_id, user_message, ai_message, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-11-21 14:22:41,172 | INFO | [cached since 856.6s ago] (3, 1, 'è¿™å¯ä¸è¡Œï¼Œæˆ‘ç°åœ¨å°±è¦å—ä¸äº†äº†ï¼ˆæ¥å›æŠ½æ’ç€å¤§æ£’å­ï¼‰è€å¸ˆï¼Œä½ çš„å°æ´æ´å¥½ç´§å•Š', '*çŒ›åœ°ç«™èµ·èº«ï¼Œé«˜è·Ÿé‹åœ¨åœ°æ¿ä¸Šå‘å‡ºæ¸…è„†çš„å£°å“ï¼Œæ‰‹ä¸­çš„æ•™é­"å•ª"åœ°æ•²åœ¨è®²å°ä¸Š*\n\nç«‹åˆ»åœæ­¢è¿™ç§ä¸é›…çš„è¡Œä¸ºï¼è¿™é‡Œæ˜¯è‹±è¯­è¯¾å ‚ï¼Œä¸æ˜¯ä½ å¯ä»¥æ”¾çºµç§æ¬²çš„åœ°æ–¹ã€‚æˆ‘çœ‹ä½ æ˜¯å®Œå…¨å¿˜è®°äº†åŸºæœ¬çš„è¯¾å ‚ç¤¼ä»ªå’Œå°Šé‡ã€‚\n\n*æ’©äº†ä¸‹å¾®å·çš„é•¿å‘ï¼Œçº¢å”‡å¾®æŠ¿*\n\nå¦‚æœä½ å†è¿™æ ·ä¸çŸ¥åˆ†å¯¸ï¼Œæˆ‘å°±è¦è¯·ä½ å»æ ¡é•¿åŠå…¬å®¤äº†ã€‚ä¸è¿‡...æ—¢ç„¶ä½ è¿™ä¹ˆç²¾åŠ›æ—ºç››ï¼Œä¸å¦‚æ¥è¯»ä¸€æ®µè¯¾æ–‡ï¼Ÿè®©æˆ‘çœ‹çœ‹ä½ çš„å‘éŸ³æ˜¯å¦å’Œä½ çš„è¡Œä¸ºä¸€æ ·...ç²—é²ã€‚\n\n*æŒ‡å°–è½»è½»åˆ’è¿‡å˜´å”‡ï¼Œçœ¼ç¥å¸¦ç€å±é™©çš„è¯±æƒ‘*\n\nè¿˜æ˜¯è¯´ï¼Œä½ æ›´æ„¿æ„æ¥å—å…¶ä»–å½¢å¼çš„æƒ©ç½šï¼Ÿ', datetime.datetime(2025, 11, 21, 6, 22, 41, 172133, tzinfo=datetime.timezone.utc))
2025-11-21 14:22:41,174 | INFO | COMMIT
2025-11-21 14:22:41,191 | INFO | BEGIN (implicit)
2025-11-21 14:22:41,192 | INFO | SELECT conversations.id, conversations.user_id, conversations.character_id, conversations.user_message, conversations.ai_message, conversations.timestamp 
FROM conversations 
WHERE conversations.id = %s
2025-11-21 14:22:41,192 | INFO | [cached since 856.6s ago] (12,)
2025-11-21 14:22:41,193 | INFO | ROLLBACK
2025-11-21 14:22:41,194 | INFO | ğŸ¤– Reply generated for user 3, length: 224 chars
2025-11-21 14:24:00,734 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai/chat
2025-11-21 14:24:00,735 | INFO | ğŸ’¬ User 3 sending message from 127.0.0.1
2025-11-21 14:24:00,736 | INFO | BEGIN (implicit)
2025-11-21 14:24:00,737 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters 
WHERE characters.id = %s
2025-11-21 14:24:00,737 | INFO | [cached since 941.2s ago] (1,)
2025-11-21 14:24:00,738 | INFO | ROLLBACK
2025-11-21 14:24:05,088 | INFO | HTTP Request: POST https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 14:24:05,089 | INFO | BEGIN (implicit)
2025-11-21 14:24:05,090 | INFO | INSERT INTO conversations (user_id, character_id, user_message, ai_message, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-11-21 14:24:05,090 | INFO | [cached since 940.5s ago] (3, 1, 'è€å¸ˆåº”è¯¥ä¹Ÿå¾ˆèˆ’æœçš„å§ï¼Œæˆ‘å°±å†è®©æˆ‘çš„å¤§æ£’å­å˜å¤§å§', '*æ¨äº†æ¨çœ¼é•œï¼ŒæŒ‘çœ‰çœ‹ç€ä½ * \n\nå“¦ï¼Ÿçœ‹æ¥æˆ‘ä»¬è¿™ä½åŒå­¦å¯¹è‡ªå·±çš„"å¤§æ£’å­"å¾ˆæœ‰è‡ªä¿¡å‘¢ã€‚ä¸è¿‡ä¸Šè¯¾æ—¶é—´è¿˜æ˜¯ä¸“æ³¨ç‚¹æ¯”è¾ƒå¥½~è®©æˆ‘ä»¬ç»§ç»­ä»Šå¤©çš„è¯­æ³•ç»ƒä¹ å§ã€‚æ¯•ç«Ÿ...æˆ‘å¯ä¸å¸Œæœ›çœ‹åˆ°è°å› ä¸ºåˆ†å¿ƒè€Œè¢«ç•™ä¸‹æ¥è¡¥è¯¾å‘¢ã€‚\n\n*è½»æ•²é»‘æ¿ï¼Œæ„å‘³æ·±é•¿åœ°ç¬‘äº†ç¬‘*\n\nç°åœ¨ï¼Œè°èƒ½å‘Šè¯‰æˆ‘è¿™ä¸ªå¥å­çš„æ­£ç¡®æ—¶æ€åº”è¯¥æ€ä¹ˆç”¨ï¼Ÿ', datetime.datetime(2025, 11, 21, 6, 24, 5, 90326, tzinfo=datetime.timezone.utc))
2025-11-21 14:24:05,091 | INFO | COMMIT
2025-11-21 14:24:05,108 | INFO | BEGIN (implicit)
2025-11-21 14:24:05,109 | INFO | SELECT conversations.id, conversations.user_id, conversations.character_id, conversations.user_message, conversations.ai_message, conversations.timestamp 
FROM conversations 
WHERE conversations.id = %s
2025-11-21 14:24:05,109 | INFO | [cached since 940.5s ago] (13,)
2025-11-21 14:24:05,110 | INFO | ROLLBACK
2025-11-21 14:24:05,111 | INFO | ğŸ¤– Reply generated for user 3, length: 138 chars
2025-11-21 16:09:14,442 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /
2025-11-21 16:09:14,574 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /favicon.ico
2025-11-21 16:09:16,247 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai
2025-11-21 16:09:16,248 | INFO | ğŸ“‹ User None accessing /user from IP: 127.0.0.1
2025-11-21 16:09:16,248 | WARNING | ğŸš« Unauthorized access to /user from IP: 127.0.0.1
2025-11-21 16:09:16,254 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /login
2025-11-21 16:09:19,076 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /login
2025-11-21 16:09:19,113 | INFO | SELECT DATABASE()
2025-11-21 16:09:19,114 | INFO | [raw sql] ()
2025-11-21 16:09:19,117 | INFO | SELECT @@sql_mode
2025-11-21 16:09:19,118 | INFO | [raw sql] ()
2025-11-21 16:09:19,118 | INFO | SELECT @@lower_case_table_names
2025-11-21 16:09:19,119 | INFO | [raw sql] ()
2025-11-21 16:09:19,120 | INFO | BEGIN (implicit)
2025-11-21 16:09:19,126 | INFO | SELECT users.id, users.account, users.password 
FROM users 
WHERE users.account = %s
2025-11-21 16:09:19,126 | INFO | [generated in 0.00063s] ('123',)
2025-11-21 16:09:19,131 | INFO | ROLLBACK
2025-11-21 16:09:19,160 | INFO | ğŸ” User 2 logged in successfully
2025-11-21 16:09:19,183 | INFO | BEGIN (implicit)
2025-11-21 16:09:19,185 | INFO | SELECT user_info.stu_id, user_info.name, user_info.college, user_info.major, user_info.class_name, user_info.grade, user_info.gender, user_info.birth_date, user_info.enrollment_date, user_info.phone, user_info.email, user_info.qq, user_info.dormitory, user_info.political_status, user_info.user_id 
FROM user_info 
WHERE user_info.user_id = %s
2025-11-21 16:09:19,185 | INFO | [generated in 0.00057s] (2,)
2025-11-21 16:09:19,189 | INFO | ROLLBACK
2025-11-21 16:09:20,595 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /
2025-11-21 16:09:21,827 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai
2025-11-21 16:09:21,828 | INFO | ğŸ“‹ User 2 accessing /user from IP: 127.0.0.1
2025-11-21 16:09:21,833 | INFO | BEGIN (implicit)
2025-11-21 16:09:21,834 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters ORDER BY characters.name
2025-11-21 16:09:21,834 | INFO | [generated in 0.00037s] ()
2025-11-21 16:09:21,838 | INFO | ROLLBACK
2025-11-21 16:09:26,639 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai/chat
2025-11-21 16:09:26,640 | INFO | ğŸ’¬ User 2 sending message from 127.0.0.1
2025-11-21 16:09:26,641 | INFO | BEGIN (implicit)
2025-11-21 16:09:26,642 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters 
WHERE characters.id = %s
2025-11-21 16:09:26,643 | INFO | [generated in 0.00032s] (2,)
2025-11-21 16:09:26,643 | INFO | ROLLBACK
2025-11-21 16:09:27,761 | INFO | HTTP Request: POST http://localhost:11434/v1/chat/completions "HTTP/1.1 404 Not Found"
2025-11-21 16:09:27,762 | ERROR | â˜ï¸ Ollama API error [404]: {"error":{"message":"model 'qwen:7b' not found","type":"api_error","param":null,"code":null}}

2025-11-21 16:09:27,763 | CRITICAL | ğŸ’¥ Unexpected error in /ai/chat:
Traceback (most recent call last):
  File "f:\Programmer\python\MyAi\backend\routes\ai.py", line 81, in ollama_chat
    raise HTTPException(
    ...<2 lines>...
    )
fastapi.exceptions.HTTPException: 404: æœ¬åœ°AIæœåŠ¡é”™è¯¯: {"error":{"message":"model 'qwen:7b' not found","type":"api_error","param":null,"code":null}}


2025-11-21 16:10:51,943 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai
2025-11-21 16:10:51,951 | INFO | ğŸ“‹ User 2 accessing /user from IP: 127.0.0.1
2025-11-21 16:10:51,965 | INFO | SELECT DATABASE()
2025-11-21 16:10:51,966 | INFO | [raw sql] ()
2025-11-21 16:10:51,967 | INFO | SELECT @@sql_mode
2025-11-21 16:10:51,967 | INFO | [raw sql] ()
2025-11-21 16:10:51,968 | INFO | SELECT @@lower_case_table_names
2025-11-21 16:10:51,968 | INFO | [raw sql] ()
2025-11-21 16:10:51,969 | INFO | BEGIN (implicit)
2025-11-21 16:10:51,976 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters ORDER BY characters.name
2025-11-21 16:10:51,976 | INFO | [generated in 0.00050s] ()
2025-11-21 16:10:51,978 | INFO | ROLLBACK
2025-11-21 16:10:56,506 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai/chat
2025-11-21 16:10:56,507 | INFO | ğŸ’¬ User 2 sending message from 127.0.0.1
2025-11-21 16:10:56,528 | INFO | BEGIN (implicit)
2025-11-21 16:10:56,530 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters 
WHERE characters.id = %s
2025-11-21 16:10:56,530 | INFO | [generated in 0.00060s] (2,)
2025-11-21 16:10:56,532 | INFO | ROLLBACK
2025-11-21 16:11:01,899 | INFO | HTTP Request: POST http://localhost:11434/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 16:11:01,901 | INFO | BEGIN (implicit)
2025-11-21 16:11:01,902 | INFO | INSERT INTO conversations (user_id, character_id, user_message, ai_message, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-11-21 16:11:01,903 | INFO | [generated in 0.00035s] (2, 2, 'ä½ å¥½', 'ä½ å¥½ï¼Œå¾ˆé«˜å…´èƒ½ä¸ºä½ æœåŠ¡ã€‚æœ‰ä»€ä¹ˆå¯ä»¥å¸®åŠ©ä½ çš„å—ï¼Ÿ', datetime.datetime(2025, 11, 21, 8, 11, 1, 902795, tzinfo=datetime.timezone.utc))
2025-11-21 16:11:01,905 | INFO | COMMIT
2025-11-21 16:11:01,910 | INFO | BEGIN (implicit)
2025-11-21 16:11:01,912 | INFO | SELECT conversations.id, conversations.user_id, conversations.character_id, conversations.user_message, conversations.ai_message, conversations.timestamp 
FROM conversations 
WHERE conversations.id = %s
2025-11-21 16:11:01,912 | INFO | [generated in 0.00043s] (14,)
2025-11-21 16:11:01,913 | INFO | ROLLBACK
2025-11-21 16:11:01,914 | INFO | ğŸ¤– Reply generated for user 2, length: 23 chars
2025-11-21 16:35:39,666 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai
2025-11-21 16:35:39,679 | INFO | ğŸ“‹ User 2 accessing /user from IP: 127.0.0.1
2025-11-21 16:35:39,699 | INFO | SELECT DATABASE()
2025-11-21 16:35:39,699 | INFO | [raw sql] ()
2025-11-21 16:35:39,700 | INFO | SELECT @@sql_mode
2025-11-21 16:35:39,701 | INFO | [raw sql] ()
2025-11-21 16:35:39,701 | INFO | SELECT @@lower_case_table_names
2025-11-21 16:35:39,702 | INFO | [raw sql] ()
2025-11-21 16:35:39,704 | INFO | BEGIN (implicit)
2025-11-21 16:35:39,710 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters ORDER BY characters.name
2025-11-21 16:35:39,710 | INFO | [generated in 0.00049s] ()
2025-11-21 16:35:39,713 | INFO | ROLLBACK
2025-11-21 16:35:44,020 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai/chat
2025-11-21 16:35:44,021 | INFO | ğŸ’¬ User 2 sending message from 127.0.0.1
2025-11-21 16:35:44,049 | INFO | BEGIN (implicit)
2025-11-21 16:35:44,050 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters 
WHERE characters.id = %s
2025-11-21 16:35:44,051 | INFO | [generated in 0.00042s] (2,)
2025-11-21 16:35:44,052 | INFO | ROLLBACK
2025-11-21 16:35:54,767 | INFO | HTTP Request: POST http://localhost:11434/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 16:35:54,769 | INFO | BEGIN (implicit)
2025-11-21 16:35:54,771 | INFO | INSERT INTO conversations (user_id, character_id, user_message, ai_message, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-11-21 16:35:54,771 | INFO | [generated in 0.00036s] (2, 2, 'ä½ å¥½', 'ä½ å¥½ï¼Œæœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®åŠ©ä½ çš„å—ï¼Ÿ', datetime.datetime(2025, 11, 21, 8, 35, 54, 771456, tzinfo=datetime.timezone.utc))
2025-11-21 16:35:54,774 | INFO | COMMIT
2025-11-21 16:35:54,778 | INFO | BEGIN (implicit)
2025-11-21 16:35:54,780 | INFO | SELECT conversations.id, conversations.user_id, conversations.character_id, conversations.user_message, conversations.ai_message, conversations.timestamp 
FROM conversations 
WHERE conversations.id = %s
2025-11-21 16:35:54,781 | INFO | [generated in 0.00044s] (15,)
2025-11-21 16:35:54,782 | INFO | ROLLBACK
2025-11-21 16:35:54,783 | INFO | ğŸ¤– Reply generated for user 2, length: 15 chars
2025-11-21 16:36:58,090 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai
2025-11-21 16:36:58,101 | INFO | ğŸ“‹ User 2 accessing /user from IP: 127.0.0.1
2025-11-21 16:36:58,118 | INFO | SELECT DATABASE()
2025-11-21 16:36:58,118 | INFO | [raw sql] ()
2025-11-21 16:36:58,119 | INFO | SELECT @@sql_mode
2025-11-21 16:36:58,120 | INFO | [raw sql] ()
2025-11-21 16:36:58,121 | INFO | SELECT @@lower_case_table_names
2025-11-21 16:36:58,121 | INFO | [raw sql] ()
2025-11-21 16:36:58,123 | INFO | BEGIN (implicit)
2025-11-21 16:36:58,130 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters ORDER BY characters.name
2025-11-21 16:36:58,130 | INFO | [generated in 0.00069s] ()
2025-11-21 16:36:58,133 | INFO | ROLLBACK
2025-11-21 16:37:02,129 | INFO | ğŸŒ Request from IP: 127.0.0.1 | Path: /ai/chat
2025-11-21 16:37:02,131 | INFO | ğŸ’¬ User 2 sending message from 127.0.0.1
2025-11-21 16:37:02,152 | INFO | BEGIN (implicit)
2025-11-21 16:37:02,153 | INFO | SELECT characters.id, characters.name, characters.trait 
FROM characters 
WHERE characters.id = %s
2025-11-21 16:37:02,153 | INFO | [generated in 0.00045s] (2,)
2025-11-21 16:37:02,155 | INFO | ROLLBACK
2025-11-21 16:37:04,123 | INFO | HTTP Request: POST http://localhost:11434/v1/chat/completions "HTTP/1.1 200 OK"
2025-11-21 16:37:04,124 | INFO | BEGIN (implicit)
2025-11-21 16:37:04,126 | INFO | INSERT INTO conversations (user_id, character_id, user_message, ai_message, timestamp) VALUES (%s, %s, %s, %s, %s)
2025-11-21 16:37:04,126 | INFO | [generated in 0.00045s] (2, 2, 'ä½ å¥½', 'ä½ å¥½ï¼Œæœ‰ä»€ä¹ˆæˆ‘èƒ½å¸®ä½ çš„å—ï¼Ÿ', datetime.datetime(2025, 11, 21, 8, 37, 4, 126348, tzinfo=datetime.timezone.utc))
2025-11-21 16:37:04,129 | INFO | COMMIT
2025-11-21 16:37:04,146 | INFO | BEGIN (implicit)
2025-11-21 16:37:04,148 | INFO | SELECT conversations.id, conversations.user_id, conversations.character_id, conversations.user_message, conversations.ai_message, conversations.timestamp 
FROM conversations 
WHERE conversations.id = %s
2025-11-21 16:37:04,148 | INFO | [generated in 0.00048s] (16,)
2025-11-21 16:37:04,150 | INFO | ROLLBACK
2025-11-21 16:37:04,151 | INFO | ğŸ¤– Reply generated for user 2, length: 13 chars
